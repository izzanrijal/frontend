import{a as e}from"./axios-fZjk1EK6.js";import{b as t,V as a,l as s,a1 as r,c as i,z as o,B as n,D as l,v as c,O as u,F as d,X as p,P as m,W as b,S as f,R as h,u as g,$ as v,a0 as _}from"./vendor-BrUfZ_qe.js";import{_ as w,V as y,g as k}from"./index-DWDInlzl.js";import{d as x,a as I,b as V,V as j,c as z}from"./VCard-qw0e-7-C.js";import{V as M}from"./VGrid-CbeiMOBg.js";import"./vuetify-BGzDg8SZ.js";import"./VImg-3tLKbNbK.js";const D=e=>(v("data-v-27b2b545"),e=e(),_(),e),S=D((()=>m("span",{style:{color:"#0080ff"}},"Upgrade Membership",-1))),B={class:"title-container",style:{padding:"20px"}},F={style:{color:"black"}},L={class:"status-text font-weight-semibold mb-1"},A={class:"status-text-start font-weight-semibold mb-1"},C={key:0,class:"status-text-price font-weight-semibold mb-1"},H={key:1,class:"status-text-free font-weight-semibold mb-1"},W=[D((()=>m("b",null,"Free",-1)))],$={key:1,class:"status-text-current font-weight-semibold mb-1"},q=["innerHTML"],E=w({__name:"MembershipDashboard",setup(v){const _=t(null),w=a(),D=t(window.innerWidth);var E=localStorage.getItem("token");s((async()=>{if(E)try{const t=await e.get("https://gateway.berkompeten.id/api/student/membership",{headers:{Authorization:`Bearer ${E}`}});_.value=t.data.membership}catch(t){t.response&&401===t.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),w.push("/login"))}else w.push("/login");window.addEventListener("resize",P)})),r((()=>{window.removeEventListener("resize",P)}));const P=()=>{D.value=window.innerWidth},R=i((()=>D.value<768)),T=i((()=>R.value?"Current\nMembership":"Current Membership"));return(e,t)=>(n(),o(j,{class:"vcardtext-container"},{default:l((()=>[c(x,null,{default:l((()=>[S])),_:1}),c(I,null,{default:l((()=>[(n(!0),u(d,null,p(_.value,(e=>(n(),o(V,{cols:"12",md:"6",key:e.id,class:"question-card"},{default:l((()=>[c(j,{class:"mb-4"},{default:l((()=>[c(z,null,{append:l((()=>[!1===e.is_current&&!0===e.is_can_upgrade?(n(),o(k,{key:0,block:"",type:"submit",to:{path:"/membership/detail",query:{id:e.id}},color:e.is_active?"#0080ff":"#cccccc",class:"action-button"},{default:l((()=>[h(" View ")])),_:2},1032,["to","color"])):b("",!0),!0===e.is_current?(n(),u("p",$,[m("b",{innerHTML:g(T)},null,8,q)])):b("",!0)])),default:l((()=>[c(I,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:l((()=>{return[c(M,{color:e.is_active?"#0080ff":"#cccccc",rounded:"",size:"40",class:"elevation-2 avatar-icon"},{default:l((()=>[c(y,{size:"24",icon:"ri-vip-crown-line",class:"icon"})])),_:2},1032,["color"]),m("div",B,[c(x,null,{default:l((()=>[m("span",F,f(e.name),1)])),_:2},1024),m("p",L," Periode Aktivasi: "+f(e.activation_period)+" Bulan ",1),m("p",A," Deskripsi paket: "+f((a=e.description,a.length>50?a.substring(0,35)+"...":a)),1),0!==e.price?(n(),u("p",C,[m("b",null,"Harga: "+f((t=e.price,new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t))),1)])):b("",!0),0===e.price?(n(),u("p",H,W)):b("",!0)])];var t,a})),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}))}},[["__scopeId","data-v-27b2b545"]]),P={__name:"membership-dashboard",setup(r){const i=localStorage.getItem("token"),u=t(null),d=a();return s((async()=>{if(i)try{const t=await e.get("https://gateway.berkompeten.id/api/student/profile",{headers:{Authorization:`Bearer ${i}`}});u.value=t.data}catch(t){t.response&&401===t.response.status&&d.push("/login")}else d.push("/login")})),(e,t)=>(n(),o(I,{class:"match-height"},{default:l((()=>[c(V,{cols:"12",md:"12"},{default:l((()=>[c(E)])),_:1})])),_:1}))}};export{P as default};
