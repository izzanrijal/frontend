import{a as V,V as $}from"./VGrid-DMebrqHE.js";import{_ as q,f as g,u as C,g as S,Y as D,Z as L,o as s,e as c,w as a,d as o,c as d,F as b,W as v,X as x,b as h,J as u,V as N,a as k,t as m}from"./index-ZZj4UGQG.js";import{V as _,a as B,b as A,c as E}from"./VCardItem-D0XFDAJW.js";import{V as y}from"./VCard-DGQ1pm2e.js";import{V as F}from"./VChip-DH3yEJq6.js";import"./VImg-Bpt_AjnC.js";import"./index-Bz8UgOiE.js";const M={class:"title-container",style:{padding:"20px"}},T={style:{color:"black"}},Q={key:0,class:"status-text font-weight-semibold mb-1"},R={key:1,class:"status-text font-weight-semibold mb-1"},J={class:"d-flex align-center flex-wrap mb-3"},K={__name:"QuestionDashboard",setup(I){const l=g([]),r=C(),i=g(window.innerWidth);var n=localStorage.getItem("token");S(async()=>{if(n)try{const t=await V.get("https://gateway.berkompeten.com/api/student/question-packet",{headers:{Authorization:`Bearer ${n}`}});l.value=t.data.data}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),r.push("/login"))}else r.push("/login");window.addEventListener("resize",f)}),D(()=>{window.removeEventListener("resize",f)});const f=()=>{i.value=window.innerWidth},w=t=>{localStorage.setItem("paket",t),r.push("/detail")},z=()=>{r.push("/upgrade/membership")},j=L(()=>i.value<768),W=t=>j.value?t.slice(0,3):t;return(t,U)=>(s(),c(y,{class:"vcardtext-container"},{default:a(()=>[o(_,null,{default:a(()=>[(s(!0),d(b,null,v(l.value,e=>(s(),c(B,{cols:"12",md:"6",key:e.id,class:"question-card"},{default:a(()=>[o(y,{class:"mb-4"},{default:a(()=>[o(A,null,{append:a(()=>[e.is_accessed===!0&&e.is_done===!1&&e.answer===0?(s(),c(x,{key:0,block:"",type:"submit",onClick:p=>w(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:a(()=>[h(" Kerjakan Sekarang ")]),_:2},1032,["onClick","color"])):u("",!0),e.is_accessed===!0&&e.is_done===!1&&e.answer>0&&e.start_date!==null&&e.finish_date===null?(s(),c(x,{key:1,block:"",type:"submit",onClick:p=>w(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:a(()=>[h(" Lanjutkan ")]),_:2},1032,["onClick","color"])):u("",!0)]),default:a(()=>[o(_,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:a(()=>[o($,{color:e.is_accessed?"#0080ff":"#cccccc",rounded:"",size:"40",class:"elevation-2 avatar-icon"},{default:a(()=>[o(N,{size:"24",icon:"ri-apps-line",class:"icon"})]),_:2},1032,["color"]),k("div",M,[o(E,null,{default:a(()=>[k("span",T,m(e.title),1)]),_:2},1024),e.is_accessed===!0&&e.is_done===!1&&e.answer===0?(s(),d("p",Q," Belum dikerjakan ")):u("",!0),e.is_accessed===!0&&e.is_done===!1&&e.answer>0&&e.start_date!==null&&e.finish_date===null?(s(),d("p",R," Mulai dikerjakan: "+m(e.start_date),1)):u("",!0),e.is_accessed===!1?(s(),d("a",{key:2,class:"upgrade-link",onClick:z},"Silahkan upgrade membership untuk melanjutkan")):u("",!0)])]),_:2},1024)]),_:2},1024),o(_,{align:"center",class:"d-flex flex-wrap row-item"},{default:a(()=>[k("div",J,[(s(!0),d(b,null,v(W(e.topics),p=>(s(),c(F,{class:"d-flex flex-wrap v-item",color:e.is_accessed?"#0080ff":"#cccccc",size:"small",key:p},{default:a(()=>[h(m(p),1)]),_:2},1032,["color"]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}},P=q(K,[["__scopeId","data-v-60b6aed5"]]),ae={__name:"question-packet-dashboard",setup(I){const l=localStorage.getItem("token"),r=g(null),i=C();return S(async()=>{if(l)try{const n=await V.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});r.value=n.data}catch(n){n.response&&n.response.status===401&&i.push("/login")}else i.push("/login")}),(n,f)=>(s(),c(_,{class:"match-height"},{default:a(()=>[o(B,{cols:"12",md:"12"},{default:a(()=>[o(P)]),_:1})]),_:1}))}};export{ae as default};
