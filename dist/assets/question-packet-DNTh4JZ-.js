import{p as J,l as K,a0 as me,f as d,a1 as _e,N as oe,a2 as j,Z as U,G as z,B as X,d as e,a3 as be,a4 as we,a5 as he,I as le,a6 as ke,a7 as ye,F as T,_ as Z,u as G,M as ee,g as W,a8 as ve,o as h,e as R,w as a,a as I,t as $,J as F,c as A,W as Q,n as H,b as B,X as D,Q as pe,R as fe,Y as Ve,D as Ie,E as Se,H as E}from"./index-B6IiNX1x.js";import{a as O}from"./VGrid-rhxqtcso.js";import{c as N,d as M,a as q,b as y,V as L,e as Y,f as xe}from"./VCard-hSGl7JbV.js";import{V as se}from"./VImg-U4K_PdCE.js";import{m as Pe,V as ne,a as qe}from"./VInput-vhBK0Waf.js";import{m as Ce,V as ge,a as $e,b as Re}from"./VSelectionControl-BAPEXizc.js";import{m as Ae,V as Be,u as De,a as re}from"./VOverlay-Bj9Jw61p.js";import{f as Ee}from"./forwardRefs-DWGaNmQL.js";import{V as ue}from"./VDivider-CAm-b53X.js";import"./index-vBDuHMsY.js";import"./lazy-CnCTQfta.js";const Te=J({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ae({origin:"center center",scrollStrategy:"block",transition:{component:Be},zIndex:2400})},"VDialog"),ze=K()({name:"VDialog",props:Te(),emits:{"update:modelValue":o=>!0},setup(o,s){let{slots:m}=s;const c=me(o,"modelValue"),{scopeId:u}=De(),n=d();function l(p){var f,b;const r=p.relatedTarget,i=p.target;if(r!==i&&((f=n.value)!=null&&f.contentEl)&&((b=n.value)!=null&&b.globalTop)&&![document,n.value.contentEl].includes(i)&&!n.value.contentEl.contains(i)){const k=we(n.value.contentEl);if(!k.length)return;const x=k[0],S=k[k.length-1];r===x?S.focus():x.focus()}}_e&&oe(()=>c.value&&o.retainFocus,p=>{p?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),oe(c,async p=>{var r,i;await j(),p?(r=n.value.contentEl)==null||r.focus({preventScroll:!0}):(i=n.value.activatorEl)==null||i.focus({preventScroll:!0})});const v=U(()=>z({"aria-haspopup":"dialog","aria-expanded":String(c.value)},o.activatorProps));return X(()=>{const p=re.filterProps(o);return e(re,z({ref:n,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},p,{modelValue:c.value,"onUpdate:modelValue":r=>c.value=r,"aria-modal":"true",activatorProps:v.value,role:"dialog"},u),{activator:m.activator,default:function(){for(var r=arguments.length,i=new Array(r),f=0;f<r;f++)i[f]=arguments[f];return e(be,{root:"VDialog"},{default:()=>{var b;return[(b=m.default)==null?void 0:b.call(m,...i)]}})}})}),Ee({},n)}}),Oe=J({...Ce({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ie=K()({name:"VRadio",props:Oe(),setup(o,s){let{slots:m}=s;return X(()=>e(ge,z(o,{class:["v-radio",o.class],style:o.style,type:"radio"}),m)),{}}}),Qe=J({height:{type:[Number,String],default:"auto"},...Pe(),...he($e(),["multiple"]),trueIcon:{type:le,default:"$radioOn"},falseIcon:{type:le,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ce=K()({name:"VRadioGroup",inheritAttrs:!1,props:Qe(),emits:{"update:modelValue":o=>!0},setup(o,s){let{attrs:m,slots:c}=s;const u=ke(),n=U(()=>o.id||`radio-group-${u}`),l=me(o,"modelValue");return X(()=>{const[v,p]=ye(m),r=ne.filterProps(o),i=ge.filterProps(o),f=c.label?c.label({label:o.label,props:{for:n.value}}):o.label;return e(ne,z({class:["v-radio-group",o.class],style:o.style},v,r,{modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,id:n.value}),{...c,default:b=>{let{id:k,messagesId:x,isDisabled:S,isReadonly:g}=b;return e(T,null,[f&&e(qe,{id:k.value},{default:()=>[f]}),e(Re,z(i,{id:k.value,"aria-describedby":x.value,defaultsTarget:"VRadio",trueIcon:o.trueIcon,falseIcon:o.falseIcon,type:o.type,disabled:S.value,readonly:g.value,"aria-labelledby":f?k.value:void 0,multiple:!1},p,{modelValue:l.value,"onUpdate:modelValue":_=>l.value=_}),c)])}})}),{}}}),Ne=o=>(pe("data-v-cec2c3ad"),o=o(),fe(),o),Le={style:{color:"#0080ff"}},Ue={style:{color:"black"},class:"font-weight-semibold mb-1"},Ge={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},We={class:"me-n3",style:{padding:"20px"}},je=Ne(()=>I("span",{style:{color:"#0080ff"}},"Seberapa yakin jawaban anda?",-1)),Fe={class:"me-n3",style:{padding:"20px"}},He={__name:"Question",props:["mode"],setup(o){const s=d({}),m=d(null),c=d(null),u=G();ee();const n=d([]);var l=localStorage.getItem("token");const v=d(!1);W(async()=>{ve.on("refreshQuestion",g=>{console.log("run emit trigger: ",g.number),r.value=null,i.value=null,p()}),await p()});const p=async()=>{if(l)try{const g=localStorage.getItem("paket"),_=localStorage.getItem("number"),t=await O.get("https://gateway.berkompeten.com/api/student/question?id="+g+"&number="+_,{headers:{Authorization:`Bearer ${l}`}});s.value=t.data.data,localStorage.setItem("question_id",t.data.data.id);const w={label:t.data.data.option_a,value:"A"},P={label:t.data.data.option_b,value:"B"},C={label:t.data.data.option_c,value:"C"},V={label:t.data.data.option_d,value:"D"},ae={label:t.data.data.option_e,value:"E"};if(n.value=[w,P,C,V,ae],s.value.student_answer&&(r.value=s.value.student_answer,localStorage.setItem("answer",r.value)),s.value.student_answer_value&&(i.value=s.value.student_answer_value,localStorage.setItem("answerValue",i.value)),console.log("mode: ",mode),mode==="review"){console.log("run mode review");const te=await O.post("https://gateway.berkompeten.com/api/student/user/review-answer",{question_packet_id:g,number:_},{headers:{Authorization:`Bearer ${l}`}});m.value=te.data.data.correct_answer,c.value=te.data.data.user_answer,r.value=c.value}}catch(g){g.response&&g.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),u.push("/login"))}else u.push("/login")},r=d(null),i=d(null),f=[{label:"Sangat Yakin",value:"yakin",color:"green"},{label:"Masih Ragu",value:"ragu",color:"orange"},{label:"Saya tidak tahu untuk jawaban soal ini",value:"tidak tahu",color:"red"}],b=()=>{console.log("selected option: ",r.value),localStorage.setItem("answer",r.value)},k=()=>{console.log("selected option yakin: ",i.value),localStorage.setItem("answerValue",i.value)},x=g=>g===m.value,S=g=>g===c.value&&g!==m.value;return(g,_)=>(h(),R(L,null,{default:a(()=>[e(N,{class:"outlined-card-item"},{default:a(()=>[e(M,null,{default:a(()=>[I("span",Le,$(s.value.question_number),1)]),_:1}),s.value.image_url!=""?(h(),R(se,{key:0,src:s.value.image_url,style:{"block-size":"350px",cursor:"pointer","inline-size":"350px"},onClick:_[0]||(_[0]=t=>v.value=!0)},null,8,["src"])):F("",!0),I("p",Ue,$(s.value.scenario),1),I("p",Ge,$(s.value.question),1),I("div",We,[e(q,{align:"center"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(ce,{modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=t=>r.value=t),class:"mb-2",onChange:b,disabled:o.mode==="review"},{default:a(()=>[(h(!0),A(T,null,Q(n.value,(t,w)=>(h(),R(ie,{key:w,label:t.label,value:t.value,color:x(t.value)?"green":S(t.value)?"red":"default",class:H({"correct-answer":x(t.value),"wrong-answer":S(t.value)}),disabled:o.mode==="review"},null,8,["label","value","color","class","disabled"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})])]),_:1}),e(N,{class:"outlined-card-item"},{default:a(()=>[e(M,null,{default:a(()=>[je]),_:1}),I("div",Fe,[e(q,{align:"center"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(ce,{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=t=>i.value=t),class:"mb-2",onChange:k},{default:a(()=>[(h(),A(T,null,Q(f,(t,w)=>e(ie,{key:w,value:t.value,class:"custom-radio",disabled:o.mode==="review"},{label:a(()=>[I("span",{class:H(["custom-circle",t.color])},null,2),B(" "+$(t.label),1)]),_:2},1032,["value","disabled"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(ze,{modelValue:v.value,"onUpdate:modelValue":_[4]||(_[4]=t=>v.value=t),"max-width":"600px"},{default:a(()=>[e(L,null,{default:a(()=>[e(Y,null,{default:a(()=>[s.value.image_url!==""?(h(),R(se,{key:0,src:s.value.image_url,style:{"max-inline-size":"100%"}},null,8,["src"])):F("",!0)]),_:1}),e(xe,null,{default:a(()=>[e(D,{color:"primary",text:"",onClick:_[3]||(_[3]=t=>v.value=!1)},{default:a(()=>[B("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Me=Z(He,[["__scopeId","data-v-cec2c3ad"]]),Ye={__name:"QuestionHeader",setup(o){const s=G();var m=localStorage.getItem("token");const c=d(window.innerWidth);W(async()=>{if(window.addEventListener("resize",u),u(),m){console.log("question packet detail run: ");try{const l=localStorage.getItem("paket");console.log("question packet detail id: ",l);const v=await axios.get("https://gateway.berkompeten.com/api/student/question-packet/detail?id="+l,{headers:{Authorization:`Bearer ${m}`}});console.log("question packet detail resp: ",v.data.data),questionsPacket.value=v.data.data,console.log("question packet detail: ",questionsPacket)}catch(l){l.response&&l.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),s.push("/login"))}}else s.push("/login")}),Ve(()=>{window.removeEventListener("resize",u)});const u=()=>{c.value=window.innerWidth},n=async()=>{try{s.push("/review")}catch(l){console.error("review failed:",l)}};return(l,v)=>(h(),R(L,null,{default:a(()=>[e(q,{class:"match-height"},{default:a(()=>[Ie(e(y,{cols:"12",md:"3"},null,512),[[Se,E(c)>=768]]),e(y,{cols:"12",md:"9"},{default:a(()=>[e(N,null,{append:a(()=>[e(q,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"7"},{default:a(()=>[e(D,{block:"",type:"submit",to:"/lab-values",color:"#0080ff",variant:"outlined"},{default:a(()=>[B(" Nilai Normal Laboratorium ")]),_:1})]),_:1}),e(y,{cols:"12",md:"5"},{default:a(()=>[e(D,{block:"",type:"submit",onClick:n,color:"#0080ff"},{default:a(()=>[B(" Selesaikan Test ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Je=Z(Ye,[["__scopeId","data-v-7bbdcefc"]]),Ke=o=>(pe("data-v-01116c3e"),o=o(),fe(),o),Xe=Ke(()=>I("span",{style:{color:"#0080ff"}},"Soal Dikerjakan",-1)),Ze={class:"font-weight-semibold mb-1"},ea={style:{color:"#0080ff"}},aa={class:"d-sm-block"},ta={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},de=5,oa={__name:"QuestionOrder",setup(o){const s=d([]),m=G();ee();const c=d(null),u=d(null);var n=localStorage.getItem("token");const l=d(null);W(async()=>{await k(),await j(),_()});var v=d(null),p=d(null);d(null),d(null);var r=d(null),i=d(null),f=d(0),b=d(0);const k=async()=>{if(n)try{c.value=localStorage.getItem("paket"),u.value=localStorage.getItem("number");const w=(await O.get("https://gateway.berkompeten.com/api/student/questions/orders?id="+c.value,{headers:{Authorization:`Bearer ${n}`}})).data.question_numbers;b.value=0,w.forEach(P=>{P.is_fill&&b.value++}),console.log("Total Answered: ",b.value),f=w.length,console.log("question length: ",w.length),s.value=U(()=>{const P=[];for(let C=0;C<w.length;C+=de)P.push(w.slice(C,C+de));return console.log("result: ",P),P}),console.log("GROUP BUT: ",s)}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),m.push("/login"))}else m.push("/login")},x=async()=>{if(u.value!=1){console.log("previous without answer: ",+u.value-1),S(+u.value-1);return}},S=async t=>{localStorage.setItem("number",t),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),await k(),await j(),_(),ve.emit("refreshQuestion",{number:t})},g=async()=>{if(v=localStorage.getItem("answer"),p=localStorage.getItem("answerValue"),r=localStorage.getItem("paket"),i=localStorage.getItem("question_id"),v===null&&u.value!=f){console.log("next without answer: ",+u.value+1),S(+u.value+1);return}if(p===null){l.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(i===null){l.value="question id is empty. please contact your administrator";return}try{console.log("paket id: ",r),console.log("ques id: ",i),console.log("answer: ",v),console.log("answer val: ",p);const t=await O.post("https://gateway.berkompeten.com/api/student/user/answer/add",{question_packet_id:r,question_id:i,answer:v,answer_value:p},{headers:{Authorization:`Bearer ${n}`}});console.log("answer submit: ",v),console.log("answer val submit: ",p),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),u.value==f&&m.push("/review"),g()}catch(t){console.error("answer failed:",t),t.response&&t.response.data?l.value=t.response.data.errors:l.value="An unexpected error occurred during login."}},_=()=>{const t=document.querySelector(".vcardtext-container"),w=document.querySelector(".v-btn.custom-btn.active");t&&w&&(t.scrollTop=w.offsetTop-t.offsetTop-t.clientHeight/2+w.clientHeight/2)};return(t,w)=>(h(),R(L,null,{default:a(()=>[e(q,{"no-gutters":""},{default:a(()=>[e(y,{md:"12"},{default:a(()=>[e(N,null,{append:a(()=>[I("p",Ze,[I("span",ea,$(E(b)),1),B(" / "+$(E(f)),1)])]),default:a(()=>[e(M,null,{default:a(()=>[Xe]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:a(()=>[(h(!0),A(T,null,Q(s.value.value,(P,C)=>(h(),R(q,{key:C,class:"row-item"},{default:a(()=>[(h(!0),A(T,null,Q(P,V=>(h(),A("div",{key:V.number,class:"d-flex flex-wrap v-item"},[e(D,{color:u.value===V.number?"primary":V.is_fill?V.color:"",variant:V.is_fill?"tonal":"outlined",class:H(["mb-1 custom-btn",{active:u.value===V.number}]),style:{"block-size":"40px","inline-size":"40px"},onClick:ae=>S(V.number),ref_for:!0,ref:"button-"+V.number},{default:a(()=>[I("span",aa,$(V.number),1)]),_:2},1032,["color","variant","class","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:a(()=>[l.value?(h(),A("div",ta,$(l.value),1)):F("",!0),e(q,{class:"d-flex flex-wrap"},{default:a(()=>[e(y,{cols:"6",class:"mb-1"},{default:a(()=>[e(D,{onClick:x,color:"#0080ff",variant:"outlined",disabled:u.value==1},{default:a(()=>[B("Kembali")]),_:1},8,["disabled"])]),_:1}),e(y,{cols:"6",class:"mb-1"},{default:a(()=>[e(D,{onClick:g,color:"#0080ff"},{default:a(()=>[B("Selanjutnya")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},la=Z(oa,[["__scopeId","data-v-01116c3e"]]),ga={__name:"question-packet",setup(o){const s=localStorage.getItem("token"),m=d(null),c=G(),u=ee(),n=U(()=>u.path==="/soal-review"?"review":"question");return W(async()=>{if(s)try{const l=await O.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${s}`}});m.value=l.data}catch(l){l.response&&l.response.status===401&&c.push("/login")}else c.push("/login")}),(l,v)=>(h(),A(T,null,[e(q,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(Je,{mode:E(n)},null,8,["mode"])]),_:1})]),_:1}),e(q,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"9"},{default:a(()=>[e(Me,{mode:E(n)},null,8,["mode"])]),_:1}),e(y,{cols:"12",md:"3"},{default:a(()=>[e(la,{mode:E(n)},null,8,["mode"])]),_:1})]),_:1})],64))}};export{ga as default};
