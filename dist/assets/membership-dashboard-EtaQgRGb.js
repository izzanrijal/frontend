import{a as k}from"./axios-G2rPRu76.js";import{_ as x,f as v,u as V,M as B,g as w,o as a,e as m,w as e,d as o,F as D,X as S,b as C,J as u,c as p,V as M,t as _,a as r,W as R,Q as N,R as z}from"./index-PqEjC1nq.js";import{c as g,V as f,a as I,b as A}from"./VCardItem-UCKjAzrc.js";import{a as y}from"./VCard-qgUEiKC7.js";import{V as F}from"./VGrid-XMvTdHW4.js";import"./VImg-pQM36n5i.js";const h=n=>(N("data-v-aaadc063"),n=n(),z(),n),T=h(()=>r("span",{style:{color:"#0080ff"}},"Upgrade Membership",-1)),$={class:"me-n3",style:{padding:"7px"}},P={style:{color:"black"}},q={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},E={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},H={key:0,style:{color:"black"},class:"font-weight-semibold mb-1"},J={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},L=h(()=>r("b",null,"Free",-1)),Q=[L],U={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},W=h(()=>r("b",null,"Current Membership",-1)),X=[W],j={__name:"MembershipDashboard",setup(n){const l=v(null),d=V();B();var i=localStorage.getItem("token");w(async()=>{if(i)try{const t=await k.get("/api/student/membership",{headers:{Authorization:`Bearer ${i}`}});l.value=t.data.membership,console.log("Membership: ",l)}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),d.push("/login"))}else d.push("/login")});const c=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t),b=t=>t.length>50?t.substring(0,35)+"...":t;return(t,K)=>(a(),m(y,{class:"vcardtext-container"},{default:e(()=>[o(g,null,{default:e(()=>[T]),_:1}),o(f,null,{default:e(()=>[(a(!0),p(D,null,R(l.value,s=>(a(),m(I,{cols:"6",md:"6"},{default:e(()=>[o(y,{class:"mb-4"},{default:e(()=>[o(A,null,{append:e(()=>[s.is_current===!1?(a(),m(S,{key:0,block:"",type:"submit",to:{path:"/membership/detail",query:{id:s.id}},color:s.is_active?"#0080ff":"#cccccc"},{default:e(()=>[C(" View ")]),_:2},1032,["to","color"])):u("",!0),s.is_current===!0?(a(),p("p",U,X)):u("",!0)]),default:e(()=>[o(f,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:e(()=>[o(F,{color:s.is_active?"#0080ff":"#cccccc",rounded:"",size:"38",class:"elevation-2"},{default:e(()=>[o(M,{size:"24",icon:"ri-apps-line"})]),_:2},1032,["color"]),r("div",$,[o(g,null,{default:e(()=>[r("span",P,_(s.name),1)]),_:2},1024),r("p",q," Periode Aktivasi: "+_(s.activation_period)+" Bulan ",1),r("p",E," Deskripsi paket: "+_(b(s.description)),1),s.price!==0?(a(),p("p",H,[r("b",null,"Harga: "+_(c(s.price)),1)])):u("",!0),s.price===0?(a(),p("p",J,Q)):u("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}))}},G=x(j,[["__scopeId","data-v-aaadc063"]]),oe={__name:"membership-dashboard",setup(n){const l=localStorage.getItem("token"),d=v(null),i=V();return w(async()=>{if(l)try{const c=await k.get("/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});d.value=c.data}catch(c){c.response&&c.response.status===401&&i.push("/login")}else i.push("/login")}),(c,b)=>(a(),m(f,{class:"match-height"},{default:e(()=>[o(I,{cols:"12",md:"12"},{default:e(()=>[o(G)]),_:1})]),_:1}))}};export{oe as default};
