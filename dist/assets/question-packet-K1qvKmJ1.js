import{p as W,l as Y,$ as re,f as v,a0 as me,N as X,a1 as pe,Z as H,G as A,B as J,d as e,a2 as fe,a3 as ve,a4 as ge,I as Z,a5 as _e,a6 as be,F as B,_ as K,u as L,M as ue,g as G,a7 as Q,o as h,e as I,w as a,a as V,t as q,J as j,c as S,W as T,X as R,b as $,Q as ie,R as ce,Y as he,D as ke,E as ye,H as Ve}from"./index-B2yLydLs.js";import{a as z}from"./VGrid-CJ5L6rIQ.js";import{b as O,c as F,V as w,a as k}from"./VCardItem-Df84eUYM.js";import{V as ee}from"./VImg-BCuRYskg.js";import{m as we,V as ae,a as Ie}from"./VInput-bWGbOwOF.js";import{m as Se,V as de,a as xe,b as Pe}from"./VSelectionControl-Dxap7kfR.js";import{m as Ce,V as qe,u as Re,a as te}from"./VOverlay-DJHvS2tg.js";import{f as $e}from"./forwardRefs-DWGaNmQL.js";import{V as U,a as M,b as Be}from"./VCard-DhDVFjcq.js";import{V as oe}from"./VDivider-DFKOrj0f.js";import"./index-BiJHwB0G.js";import"./lazy-BFy95vgC.js";const Ee=W({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ce({origin:"center center",scrollStrategy:"block",transition:{component:qe},zIndex:2400})},"VDialog"),De=Y()({name:"VDialog",props:Ee(),emits:{"update:modelValue":t=>!0},setup(t,s){let{slots:m}=s;const u=re(t,"modelValue"),{scopeId:p}=Re(),r=v();function l(i){var g,c;const d=i.relatedTarget,f=i.target;if(d!==f&&((g=r.value)!=null&&g.contentEl)&&((c=r.value)!=null&&c.globalTop)&&![document,r.value.contentEl].includes(f)&&!r.value.contentEl.contains(f)){const n=ve(r.value.contentEl);if(!n.length)return;const o=n[0],y=n[n.length-1];d===o?y.focus():o.focus()}}me&&X(()=>u.value&&t.retainFocus,i=>{i?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),X(u,async i=>{var d,f;await pe(),i?(d=r.value.contentEl)==null||d.focus({preventScroll:!0}):(f=r.value.activatorEl)==null||f.focus({preventScroll:!0})});const _=H(()=>A({"aria-haspopup":"dialog","aria-expanded":String(u.value)},t.activatorProps));return J(()=>{const i=te.filterProps(t);return e(te,A({ref:r,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},i,{modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,"aria-modal":"true",activatorProps:_.value,role:"dialog"},p),{activator:m.activator,default:function(){for(var d=arguments.length,f=new Array(d),g=0;g<d;g++)f[g]=arguments[g];return e(fe,{root:"VDialog"},{default:()=>{var c;return[(c=m.default)==null?void 0:c.call(m,...f)]}})}})}),$e({},r)}}),Ne=W({...Se({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),le=Y()({name:"VRadio",props:Ne(),setup(t,s){let{slots:m}=s;return J(()=>e(de,A(t,{class:["v-radio",t.class],style:t.style,type:"radio"}),m)),{}}}),Ae=W({height:{type:[Number,String],default:"auto"},...we(),...ge(xe(),["multiple"]),trueIcon:{type:Z,default:"$radioOn"},falseIcon:{type:Z,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),se=Y()({name:"VRadioGroup",inheritAttrs:!1,props:Ae(),emits:{"update:modelValue":t=>!0},setup(t,s){let{attrs:m,slots:u}=s;const p=_e(),r=H(()=>t.id||`radio-group-${p}`),l=re(t,"modelValue");return J(()=>{const[_,i]=be(m),d=ae.filterProps(t),f=de.filterProps(t),g=u.label?u.label({label:t.label,props:{for:r.value}}):t.label;return e(ae,A({class:["v-radio-group",t.class],style:t.style},_,d,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,id:r.value}),{...u,default:c=>{let{id:n,messagesId:o,isDisabled:y,isReadonly:E}=c;return e(B,null,[g&&e(Ie,{id:n.value},{default:()=>[g]}),e(Pe,A(f,{id:n.value,"aria-describedby":o.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:y.value,readonly:E.value,"aria-labelledby":g?n.value:void 0,multiple:!1},i,{modelValue:l.value,"onUpdate:modelValue":D=>l.value=D}),u)])}})}),{}}}),Qe=t=>(ie("data-v-7c638aa6"),t=t(),ce(),t),Te={style:{color:"#0080ff"}},ze={style:{color:"black"},class:"font-weight-semibold mb-1"},Oe={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},Ue={class:"me-n3",style:{padding:"20px"}},Le=Qe(()=>V("span",{style:{color:"#0080ff"}},"Seberapa yakin jawaban anda?",-1)),Ge={class:"me-n3",style:{padding:"20px"}},je={__name:"Question",setup(t){const s=v({}),m=L();ue();const u=v([]);var p=localStorage.getItem("token");const r=v(!1);G(async()=>{Q.on("refreshQuestion",c=>{console.log("run emit trigger: ",c.number),_.value=null,i.value=null,l()}),await l()});const l=async()=>{if(p)try{const c=localStorage.getItem("paket"),n=localStorage.getItem("number"),o=await z.get("https://gateway.berkompeten.com/api/student/question?id="+c+"&number="+n,{headers:{Authorization:`Bearer ${p}`}});s.value=o.data.data,localStorage.setItem("question_id",o.data.data.id),console.log("question: ",s);const y={label:o.data.data.option_a,value:"A",color:"#0080ff"},E={label:o.data.data.option_b,value:"B",color:"#0080ff"},D={label:o.data.data.option_c,value:"C",color:"#0080ff"},b={label:o.data.data.option_d,value:"D",color:"#0080ff"},x={label:o.data.data.option_e,value:"E",color:"#0080ff"};u.value=[y,E,D,b,x],console.log("option: ",u)}catch(c){c.response&&c.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),m.push("/login"))}else m.push("/login")},_=v(null),i=v(null),d=[{label:"Sangat Yakin",value:"yakin",color:"success"},{label:"Masih Ragu",value:"ragu",color:"warning"},{label:"Saya tidak tahu untuk jawaban soal ini",value:"tidak tahu",color:"danger"}],f=()=>{console.log("selected option: ",_.value),localStorage.setItem("answer",_.value)},g=()=>{console.log("selected option yakin: ",i.value),localStorage.setItem("answerValue",i.value)};return(c,n)=>(h(),I(U,null,{default:a(()=>[e(O,{class:"outlined-card-item"},{default:a(()=>[e(F,null,{default:a(()=>[V("span",Te,q(s.value.question_number),1)]),_:1}),s.value.image_url!=""?(h(),I(ee,{key:0,src:s.value.image_url,style:{"block-size":"350px",cursor:"pointer","inline-size":"350px"},onClick:n[0]||(n[0]=o=>r.value=!0)},null,8,["src"])):j("",!0),V("p",ze,q(s.value.scenario),1),V("p",Oe,q(s.value.question),1),V("div",Ue,[e(w,{align:"center"},{default:a(()=>[e(k,{cols:"12",md:"12"},{default:a(()=>[e(se,{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=o=>_.value=o),class:"mb-2",onChange:f},{default:a(()=>[(h(!0),S(B,null,T(u.value,(o,y)=>(h(),I(le,{key:y,label:o.label,value:o.value,color:o.color},null,8,["label","value","color"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(O,{class:"outlined-card-item"},{default:a(()=>[e(F,null,{default:a(()=>[Le]),_:1}),V("div",Ge,[e(w,{align:"center"},{default:a(()=>[e(k,{cols:"12",md:"12"},{default:a(()=>[e(se,{modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=o=>i.value=o),class:"mb-2",onChange:g},{default:a(()=>[(h(),S(B,null,T(d,(o,y)=>e(le,{key:y,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(De,{modelValue:r.value,"onUpdate:modelValue":n[4]||(n[4]=o=>r.value=o),"max-width":"600px"},{default:a(()=>[e(U,null,{default:a(()=>[e(M,null,{default:a(()=>[s.value.image_url!==""?(h(),I(ee,{key:0,src:s.value.image_url,style:{"max-inline-size":"100%"}},null,8,["src"])):j("",!0)]),_:1}),e(Be,null,{default:a(()=>[e(R,{color:"primary",text:"",onClick:n[3]||(n[3]=o=>r.value=!1)},{default:a(()=>[$("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Fe=K(je,[["__scopeId","data-v-7c638aa6"]]),Me={__name:"QuestionHeader",setup(t){const s=L();var m=localStorage.getItem("token");const u=v(window.innerWidth);G(async()=>{if(window.addEventListener("resize",p),p(),m){console.log("question packet detail run: ");try{const l=localStorage.getItem("paket");console.log("question packet detail id: ",l);const _=await axios.get("https://gateway.berkompeten.com/api/student/question-packet/detail?id="+l,{headers:{Authorization:`Bearer ${m}`}});console.log("question packet detail resp: ",_.data.data),questionsPacket.value=_.data.data,console.log("question packet detail: ",questionsPacket)}catch(l){l.response&&l.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),s.push("/login"))}}else s.push("/login")}),he(()=>{window.removeEventListener("resize",p)});const p=()=>{u.value=window.innerWidth},r=async()=>{try{s.push("/review")}catch(l){console.error("review failed:",l)}};return(l,_)=>(h(),I(U,null,{default:a(()=>[e(w,{class:"match-height"},{default:a(()=>[ke(e(k,{cols:"12",md:"3"},null,512),[[ye,Ve(u)>=768]]),e(k,{cols:"12",md:"9"},{default:a(()=>[e(O,null,{append:a(()=>[e(w,{class:"match-height"},{default:a(()=>[e(k,{cols:"12",md:"7"},{default:a(()=>[e(R,{block:"",type:"submit",to:"/lab-values",color:"#0080ff",variant:"outlined"},{default:a(()=>[$(" Nilai Normal Laboratorium ")]),_:1})]),_:1}),e(k,{cols:"12",md:"5"},{default:a(()=>[e(R,{block:"",type:"submit",onClick:r,color:"#0080ff"},{default:a(()=>[$(" Selesaikan Test ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},We=K(Me,[["__scopeId","data-v-7bbdcefc"]]),Ye=t=>(ie("data-v-cd276341"),t=t(),ce(),t),He=Ye(()=>V("span",{style:{color:"#0080ff"}},"Soal Dikerjakan",-1)),Je={class:"font-weight-semibold mb-1"},Ke={style:{color:"#0080ff"}},Xe={class:"d-sm-block"},Ze={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},ne=5,ea={__name:"QuestionOrder",setup(t){const s=v([]),m=L();ue();const u=v(null),p=v(null);var r=localStorage.getItem("token");const l=v(null),_=v(localStorage.getItem("number")||null);G(async()=>{await o()});var i=v(null),d=v(null),f=v(null),g=v(null),c=v(null),n=v(null);const o=async()=>{if(r)try{u.value=localStorage.getItem("paket"),p.value=localStorage.getItem("number");const x=(await z.get("https://gateway.berkompeten.com/api/student/questions/orders?id="+u.value,{headers:{Authorization:`Bearer ${r}`}})).data.question_numbers;console.log("question length: ",x.length),s.value=H(()=>{const N=[];for(let P=0;P<x.length;P+=ne)N.push(x.slice(P,P+ne));return console.log("result: ",N),N}),console.log("GROUP BUT: ",s),_.value=localStorage.getItem("number"),console.log("CURRENT NUMBER: ",_.value)}catch(b){b.response&&b.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),m.push("/login"))}else m.push("/login")},y=async()=>{localStorage.setItem("number",f),await o(),Q.emit("refreshQuestion",{number:f})},E=async b=>{localStorage.setItem("number",b),await o(),Q.emit("refreshQuestion",{number:b})},D=async()=>{if(i=localStorage.getItem("answer"),d=localStorage.getItem("answerValue"),c=localStorage.getItem("paket"),n=localStorage.getItem("question_id"),i===null){l.value="Tolong pilih jawaban terlebih dahulu";return}if(d===null){l.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(n===null){l.value="question id is empty. please contact your administrator";return}try{console.log("paket id: ",c),console.log("ques id: ",n),console.log("answer: ",i),console.log("answer val: ",d);const b=await z.post("https://gateway.berkompeten.com/api/student/user/answer/add",{question_packet_id:c,question_id:n,answer:i,answer_value:d},{headers:{Authorization:`Bearer ${r}`}});console.log("answer submit: ",i),console.log("answer val submit: ",d),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),f=b.data.data.before_number,g=b.data.data.next_number,console.log("prev number: ",f),console.log("next number: ",g),localStorage.setItem("previousNumber",f),localStorage.setItem("number",g),await o(),Q.emit("refreshQuestion",{number:g})}catch(b){console.error("answer failed:",b),b.response&&b.response.data?l.value=b.response.data.errors:l.value="An unexpected error occurred during login."}};return(b,x)=>(h(),I(U,null,{default:a(()=>[e(w,{"no-gutters":""},{default:a(()=>[e(k,{md:"12"},{default:a(()=>[e(O,null,{append:a(()=>[V("p",Je,[V("span",Ke,q(p.value),1),$(" / 200 ")])]),default:a(()=>[e(F,null,{default:a(()=>[He]),_:1})]),_:1}),e(oe),e(M,{class:"vcardtext-container"},{default:a(()=>[(h(!0),S(B,null,T(s.value.value,(N,P)=>(h(),I(w,{key:P,class:"row-item"},{default:a(()=>[(h(!0),S(B,null,T(N,C=>(h(),S("div",{key:C.number,class:"d-flex flex-wrap v-item"},[e(R,{color:_.value.value==C.number?"primary":C.is_fill?"#0080ff":"",variant:C.is_fill?"tonal":"outlined",class:"mb-1",style:{"block-size":"40px","inline-size":"40px"},onClick:ta=>E(C.number)},{default:a(()=>[V("span",Xe,q(C.number),1)]),_:2},1032,["color","variant","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(oe),e(M,{class:"vcardtext-container"},{default:a(()=>[l.value?(h(),S("div",Ze,q(l.value),1)):j("",!0),e(w,{class:"d-flex flex-wrap"},{default:a(()=>[e(k,{cols:"6",class:"mb-1"},{default:a(()=>[e(R,{onClick:y,color:"#0080ff",variant:"outlined"},{default:a(()=>[$("Kembali")]),_:1})]),_:1}),e(k,{cols:"6",class:"mb-1"},{default:a(()=>[e(R,{onClick:D,color:"#0080ff"},{default:a(()=>[$("Selanjutnya")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},aa=K(ea,[["__scopeId","data-v-cd276341"]]),va={__name:"question-packet",setup(t){const s=localStorage.getItem("token"),m=v(null),u=L();return G(async()=>{if(s)try{const p=await z.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${s}`}});m.value=p.data}catch(p){p.response&&p.response.status===401&&u.push("/login")}else u.push("/login")}),(p,r)=>(h(),S(B,null,[e(w,{class:"match-height"},{default:a(()=>[e(k,{cols:"12",md:"12"},{default:a(()=>[e(We)]),_:1})]),_:1}),e(w,{class:"match-height"},{default:a(()=>[e(k,{cols:"12",md:"9"},{default:a(()=>[e(Fe)]),_:1}),e(k,{cols:"12",md:"3"},{default:a(()=>[e(aa)]),_:1})]),_:1})],64))}};export{va as default};
