import{a as k,V as x}from"./VGrid-E4kBuooo.js";import{_ as B,f as w,u as v,M as D,g as V,o as a,e as m,w as e,d as o,c as u,F as S,W as C,X as M,b as R,J as d,V as N,a as r,t as _,Q as z,R as A}from"./index-CPYb7Qps.js";import{c as g,V as h,a as I,b as F}from"./VCardItem-Ck5lCZY3.js";import{a as y}from"./VCard-UkF3KIuG.js";import"./VImg-DCLJNXyk.js";const f=n=>(z("data-v-c7326679"),n=n(),A(),n),T=f(()=>r("span",{style:{color:"#0080ff"}},"Upgrade Membership",-1)),$={class:"me-n3",style:{padding:"7px"}},P={style:{color:"black"}},q={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},E={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},H={key:0,style:{color:"black"},class:"font-weight-semibold mb-1"},J={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},L=f(()=>r("b",null,"Free",-1)),Q=[L],U={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},W=f(()=>r("b",null,"Current Membership",-1)),X=[W],j={__name:"MembershipDashboard",setup(n){const l=w(null),p=v();D();var i=localStorage.getItem("token");V(async()=>{if(i)try{const t=await k.get("https://gateway.berkompeten.com/api/student/membership",{headers:{Authorization:`Bearer ${i}`}});l.value=t.data.membership,console.log("Membership: ",l)}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),p.push("/login"))}else p.push("/login")});const c=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t),b=t=>t.length>50?t.substring(0,35)+"...":t;return(t,K)=>(a(),m(y,{class:"vcardtext-container"},{default:e(()=>[o(g,null,{default:e(()=>[T]),_:1}),o(h,null,{default:e(()=>[(a(!0),u(S,null,C(l.value,s=>(a(),m(I,{cols:"6",md:"6"},{default:e(()=>[o(y,{class:"mb-4"},{default:e(()=>[o(F,null,{append:e(()=>[s.is_current===!1?(a(),m(M,{key:0,block:"",type:"submit",to:{path:"/membership/detail",query:{id:s.id}},color:s.is_active?"#0080ff":"#cccccc"},{default:e(()=>[R(" View ")]),_:2},1032,["to","color"])):d("",!0),s.is_current===!0?(a(),u("p",U,X)):d("",!0)]),default:e(()=>[o(h,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:e(()=>[o(x,{color:s.is_active?"#0080ff":"#cccccc",rounded:"",size:"38",class:"elevation-2"},{default:e(()=>[o(N,{size:"24",icon:"ri-apps-line"})]),_:2},1032,["color"]),r("div",$,[o(g,null,{default:e(()=>[r("span",P,_(s.name),1)]),_:2},1024),r("p",q," Periode Aktivasi: "+_(s.activation_period)+" Bulan ",1),r("p",E," Deskripsi paket: "+_(b(s.description)),1),s.price!==0?(a(),u("p",H,[r("b",null,"Harga: "+_(c(s.price)),1)])):d("",!0),s.price===0?(a(),u("p",J,Q)):d("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}))}},G=B(j,[["__scopeId","data-v-c7326679"]]),se={__name:"membership-dashboard",setup(n){const l=localStorage.getItem("token"),p=w(null),i=v();return V(async()=>{if(l)try{const c=await k.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});p.value=c.data}catch(c){c.response&&c.response.status===401&&i.push("/login")}else i.push("/login")}),(c,b)=>(a(),m(h,{class:"match-height"},{default:e(()=>[o(I,{cols:"12",md:"12"},{default:e(()=>[o(G)]),_:1})]),_:1}))}};export{se as default};
