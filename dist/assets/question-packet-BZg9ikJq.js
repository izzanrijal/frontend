import{p as Y,l as J,$ as ie,f as v,a0 as ge,N as ee,a1 as Q,Z as K,G as z,B as X,d as e,a2 as _e,a3 as be,a4 as he,I as ae,a5 as ke,a6 as ye,F as T,_ as Z,u as G,M as ce,g as j,a7 as F,o as h,e as q,w as a,a as w,t as C,J as W,c as $,W as O,n as de,b as R,X as E,Q as me,R as fe,Y as we,D as Ve,E as Ie,H as pe}from"./index-CDtvvf2U.js";import{a as N}from"./VGrid-CXXdOk0X.js";import{c as L,d as H,a as S,b as k,V as U,e as M,f as Se}from"./VCard-B32bacXL.js";import{V as te}from"./VImg-DVp1zeUW.js";import{m as xe,V as oe,a as Pe}from"./VInput-Cw-FNdQf.js";import{m as qe,V as ve,a as Ce,b as $e}from"./VSelectionControl-CDAG27sp.js";import{m as Re,V as Be,u as De,a as le}from"./VOverlay-DDH1yG7r.js";import{f as Ee}from"./forwardRefs-DWGaNmQL.js";import{V as se}from"./VDivider-Cs4mFkY0.js";import"./index-BEJ_Emgu.js";import"./lazy-CJ95_s9I.js";const Te=Y({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Re({origin:"center center",scrollStrategy:"block",transition:{component:Be},zIndex:2400})},"VDialog"),Ae=J()({name:"VDialog",props:Te(),emits:{"update:modelValue":t=>!0},setup(t,l){let{slots:f}=l;const i=ie(t,"modelValue"),{scopeId:s}=De(),u=v();function n(c){var g,m;const _=c.relatedTarget,b=c.target;if(_!==b&&((g=u.value)!=null&&g.contentEl)&&((m=u.value)!=null&&m.globalTop)&&![document,u.value.contentEl].includes(b)&&!u.value.contentEl.contains(b)){const r=be(u.value.contentEl);if(!r.length)return;const o=r[0],y=r[r.length-1];_===o?y.focus():o.focus()}}ge&&ee(()=>i.value&&t.retainFocus,c=>{c?document.addEventListener("focusin",n):document.removeEventListener("focusin",n)},{immediate:!0}),ee(i,async c=>{var _,b;await Q(),c?(_=u.value.contentEl)==null||_.focus({preventScroll:!0}):(b=u.value.activatorEl)==null||b.focus({preventScroll:!0})});const d=K(()=>z({"aria-haspopup":"dialog","aria-expanded":String(i.value)},t.activatorProps));return X(()=>{const c=le.filterProps(t);return e(le,z({ref:u,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},c,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,"aria-modal":"true",activatorProps:d.value,role:"dialog"},s),{activator:f.activator,default:function(){for(var _=arguments.length,b=new Array(_),g=0;g<_;g++)b[g]=arguments[g];return e(_e,{root:"VDialog"},{default:()=>{var m;return[(m=f.default)==null?void 0:m.call(f,...b)]}})}})}),Ee({},u)}}),ze=Y({...qe({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ne=J()({name:"VRadio",props:ze(),setup(t,l){let{slots:f}=l;return X(()=>e(ve,z(t,{class:["v-radio",t.class],style:t.style,type:"radio"}),f)),{}}}),Qe=Y({height:{type:[Number,String],default:"auto"},...xe(),...he(Ce(),["multiple"]),trueIcon:{type:ae,default:"$radioOn"},falseIcon:{type:ae,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),re=J()({name:"VRadioGroup",inheritAttrs:!1,props:Qe(),emits:{"update:modelValue":t=>!0},setup(t,l){let{attrs:f,slots:i}=l;const s=ke(),u=K(()=>t.id||`radio-group-${s}`),n=ie(t,"modelValue");return X(()=>{const[d,c]=ye(f),_=oe.filterProps(t),b=ve.filterProps(t),g=i.label?i.label({label:t.label,props:{for:u.value}}):t.label;return e(oe,z({class:["v-radio-group",t.class],style:t.style},d,_,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,id:u.value}),{...i,default:m=>{let{id:r,messagesId:o,isDisabled:y,isReadonly:x}=m;return e(T,null,[g&&e(Pe,{id:r.value},{default:()=>[g]}),e($e,z(b,{id:r.value,"aria-describedby":o.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:y.value,readonly:x.value,"aria-labelledby":g?r.value:void 0,multiple:!1},c,{modelValue:n.value,"onUpdate:modelValue":B=>n.value=B}),i)])}})}),{}}}),Oe=t=>(me("data-v-8fa96912"),t=t(),fe(),t),Ne={style:{color:"#0080ff"}},Le={style:{color:"black"},class:"font-weight-semibold mb-1"},Ue={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},Ge={class:"me-n3",style:{padding:"20px"}},je=Oe(()=>w("span",{style:{color:"#0080ff"}},"Seberapa yakin jawaban anda?",-1)),Fe={class:"me-n3",style:{padding:"20px"}},We={__name:"Question",setup(t){const l=v({}),f=G();ce();const i=v([]);var s=localStorage.getItem("token");const u=v(!1);j(async()=>{F.on("refreshQuestion",m=>{console.log("run emit trigger: ",m.number),d.value=null,c.value=null,n()}),await n()});const n=async()=>{if(s)try{const m=localStorage.getItem("paket"),r=localStorage.getItem("number"),o=await N.get("https://gateway.berkompeten.com/api/student/question?id="+m+"&number="+r,{headers:{Authorization:`Bearer ${s}`}});l.value=o.data.data,localStorage.setItem("question_id",o.data.data.id),console.log("question: ",l);const y={label:o.data.data.option_a,value:"A",color:"#0080ff"},x={label:o.data.data.option_b,value:"B",color:"#0080ff"},B={label:o.data.data.option_c,value:"C",color:"#0080ff"},A={label:o.data.data.option_d,value:"D",color:"#0080ff"},p={label:o.data.data.option_e,value:"E",color:"#0080ff"};i.value=[y,x,B,A,p],console.log("option: ",i),l.value.student_answer&&(d.value=l.value.student_answer),l.value.student_answer_value&&(c.value=l.value.student_answer_value)}catch(m){m.response&&m.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),f.push("/login"))}else f.push("/login")},d=v(null),c=v(null),_=[{label:"Sangat Yakin",value:"yakin",color:"green"},{label:"Masih Ragu",value:"ragu",color:"orange"},{label:"Saya tidak tahu untuk jawaban soal ini",value:"tidak tahu",color:"red"}],b=()=>{console.log("selected option: ",d.value),localStorage.setItem("answer",d.value)},g=()=>{console.log("selected option yakin: ",c.value),localStorage.setItem("answerValue",c.value)};return(m,r)=>(h(),q(U,null,{default:a(()=>[e(L,{class:"outlined-card-item"},{default:a(()=>[e(H,null,{default:a(()=>[w("span",Ne,C(l.value.question_number),1)]),_:1}),l.value.image_url!=""?(h(),q(te,{key:0,src:l.value.image_url,style:{"block-size":"350px",cursor:"pointer","inline-size":"350px"},onClick:r[0]||(r[0]=o=>u.value=!0)},null,8,["src"])):W("",!0),w("p",Le,C(l.value.scenario),1),w("p",Ue,C(l.value.question),1),w("div",Ge,[e(S,{align:"center"},{default:a(()=>[e(k,{cols:"12",md:"12"},{default:a(()=>[e(re,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=o=>d.value=o),class:"mb-2",onChange:b},{default:a(()=>[(h(!0),$(T,null,O(i.value,(o,y)=>(h(),q(ne,{key:y,label:o.label,value:o.value,color:o.color},null,8,["label","value","color"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(L,{class:"outlined-card-item"},{default:a(()=>[e(H,null,{default:a(()=>[je]),_:1}),w("div",Fe,[e(S,{align:"center"},{default:a(()=>[e(k,{cols:"12",md:"12"},{default:a(()=>[e(re,{modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=o=>c.value=o),class:"mb-2",onChange:g},{default:a(()=>[(h(),$(T,null,O(_,(o,y)=>e(ne,{key:y,value:o.value,class:"custom-radio"},{label:a(()=>[w("span",{class:de(["custom-circle",o.color])},null,2),R(" "+C(o.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(Ae,{modelValue:u.value,"onUpdate:modelValue":r[4]||(r[4]=o=>u.value=o),"max-width":"600px"},{default:a(()=>[e(U,null,{default:a(()=>[e(M,null,{default:a(()=>[l.value.image_url!==""?(h(),q(te,{key:0,src:l.value.image_url,style:{"max-inline-size":"100%"}},null,8,["src"])):W("",!0)]),_:1}),e(Se,null,{default:a(()=>[e(E,{color:"primary",text:"",onClick:r[3]||(r[3]=o=>u.value=!1)},{default:a(()=>[R("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},He=Z(We,[["__scopeId","data-v-8fa96912"]]),Me={__name:"QuestionHeader",setup(t){const l=G();var f=localStorage.getItem("token");const i=v(window.innerWidth);j(async()=>{if(window.addEventListener("resize",s),s(),f){console.log("question packet detail run: ");try{const n=localStorage.getItem("paket");console.log("question packet detail id: ",n);const d=await axios.get("https://gateway.berkompeten.com/api/student/question-packet/detail?id="+n,{headers:{Authorization:`Bearer ${f}`}});console.log("question packet detail resp: ",d.data.data),questionsPacket.value=d.data.data,console.log("question packet detail: ",questionsPacket)}catch(n){n.response&&n.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),l.push("/login"))}}else l.push("/login")}),we(()=>{window.removeEventListener("resize",s)});const s=()=>{i.value=window.innerWidth},u=async()=>{try{l.push("/review")}catch(n){console.error("review failed:",n)}};return(n,d)=>(h(),q(U,null,{default:a(()=>[e(S,{class:"match-height"},{default:a(()=>[Ve(e(k,{cols:"12",md:"3"},null,512),[[Ie,pe(i)>=768]]),e(k,{cols:"12",md:"9"},{default:a(()=>[e(L,null,{append:a(()=>[e(S,{class:"match-height"},{default:a(()=>[e(k,{cols:"12",md:"7"},{default:a(()=>[e(E,{block:"",type:"submit",to:"/lab-values",color:"#0080ff",variant:"outlined"},{default:a(()=>[R(" Nilai Normal Laboratorium ")]),_:1})]),_:1}),e(k,{cols:"12",md:"5"},{default:a(()=>[e(E,{block:"",type:"submit",onClick:u,color:"#0080ff"},{default:a(()=>[R(" Selesaikan Test ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ye=Z(Me,[["__scopeId","data-v-7bbdcefc"]]),Je=t=>(me("data-v-2ba99ad4"),t=t(),fe(),t),Ke=Je(()=>w("span",{style:{color:"#0080ff"}},"Soal Dikerjakan",-1)),Xe={class:"font-weight-semibold mb-1"},Ze={style:{color:"#0080ff"}},ea={class:"d-sm-block"},aa={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},ue=5,ta={__name:"QuestionOrder",setup(t){const l=v([]),f=G();ce();const i=v(null),s=v(null);var u=localStorage.getItem("token");const n=v(null);j(async()=>{await o(),await Q(),A()});var d=v(null),c=v(null),_=v(null);v(null);var b=v(null),g=v(null),m=v(0),r=v(0);const o=async()=>{if(u)try{i.value=localStorage.getItem("paket"),s.value=localStorage.getItem("number");const V=(await N.get("https://gateway.berkompeten.com/api/student/questions/orders?id="+i.value,{headers:{Authorization:`Bearer ${u}`}})).data.question_numbers;V.forEach(P=>{P.is_fill&&r++}),console.log("Total Answered: ",r),m=V.length,console.log("question length: ",V.length),l.value=K(()=>{const P=[];for(let D=0;D<V.length;D+=ue)P.push(V.slice(D,D+ue));return console.log("result: ",P),P}),console.log("GROUP BUT: ",l)}catch(p){p.response&&p.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),f.push("/login"))}else f.push("/login")},y=async()=>{if(d===null&&s.value!=1){console.log("previous without answer: ",+s.value-1),x(+s.value-1);return}localStorage.setItem("number",_),await o(),await Q(),A(),F.emit("refreshQuestion",{number:_})},x=async p=>{localStorage.setItem("number",p),await o(),await Q(),A(),F.emit("refreshQuestion",{number:p})},B=async()=>{if(d=localStorage.getItem("answer"),c=localStorage.getItem("answerValue"),b=localStorage.getItem("paket"),g=localStorage.getItem("question_id"),d===null&&s.value!=m){console.log("next without answer: ",+s.value+1),x(+s.value+1);return}if(c===null){n.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(g===null){n.value="question id is empty. please contact your administrator";return}try{console.log("paket id: ",b),console.log("ques id: ",g),console.log("answer: ",d),console.log("answer val: ",c);const p=await N.post("https://gateway.berkompeten.com/api/student/user/answer/add",{question_packet_id:b,question_id:g,answer:d,answer_value:c},{headers:{Authorization:`Bearer ${u}`}});console.log("answer submit: ",d),console.log("answer val submit: ",c),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),s.value==m+1&&f.push("/review"),B()}catch(p){console.error("answer failed:",p),p.response&&p.response.data?n.value=p.response.data.errors:n.value="An unexpected error occurred during login."}},A=()=>{const p=document.querySelector(".vcardtext-container"),V=document.querySelector(".v-btn.custom-btn.active");p&&V&&(p.scrollTop=V.offsetTop-p.offsetTop-p.clientHeight/2+V.clientHeight/2)};return(p,V)=>(h(),q(U,null,{default:a(()=>[e(S,{"no-gutters":""},{default:a(()=>[e(k,{md:"12"},{default:a(()=>[e(L,null,{append:a(()=>[w("p",Xe,[w("span",Ze,C(pe(r)),1),R(" / 200 ")])]),default:a(()=>[e(H,null,{default:a(()=>[Ke]),_:1})]),_:1}),e(se),e(M,{class:"vcardtext-container"},{default:a(()=>[(h(!0),$(T,null,O(l.value.value,(P,D)=>(h(),q(S,{key:D,class:"row-item"},{default:a(()=>[(h(!0),$(T,null,O(P,I=>(h(),$("div",{key:I.number,class:"d-flex flex-wrap v-item"},[e(E,{color:s.value===I.number?"primary":I.is_fill?I.color:"",variant:I.is_fill?"tonal":"outlined",class:de(["mb-1 custom-btn",{active:s.value===I.number}]),style:{"block-size":"40px","inline-size":"40px"},onClick:la=>x(I.number),ref_for:!0,ref:"button-"+I.number},{default:a(()=>[w("span",ea,C(I.number),1)]),_:2},1032,["color","variant","class","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(se),e(M,{class:"vcardtext-container"},{default:a(()=>[n.value?(h(),$("div",aa,C(n.value),1)):W("",!0),e(S,{class:"d-flex flex-wrap"},{default:a(()=>[e(k,{cols:"6",class:"mb-1"},{default:a(()=>[e(E,{onClick:y,color:"#0080ff",variant:"outlined",disabled:s.value==1},{default:a(()=>[R("Kembali")]),_:1},8,["disabled"])]),_:1}),e(k,{cols:"6",class:"mb-1"},{default:a(()=>[e(E,{onClick:B,color:"#0080ff"},{default:a(()=>[R("Selanjutnya")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},oa=Z(ta,[["__scopeId","data-v-2ba99ad4"]]),ga={__name:"question-packet",setup(t){const l=localStorage.getItem("token"),f=v(null),i=G();return j(async()=>{if(l)try{const s=await N.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});f.value=s.data}catch(s){s.response&&s.response.status===401&&i.push("/login")}else i.push("/login")}),(s,u)=>(h(),$(T,null,[e(S,{class:"match-height"},{default:a(()=>[e(k,{cols:"12",md:"12"},{default:a(()=>[e(Ye)]),_:1})]),_:1}),e(S,{class:"match-height"},{default:a(()=>[e(k,{cols:"12",md:"9"},{default:a(()=>[e(He)]),_:1}),e(k,{cols:"12",md:"3"},{default:a(()=>[e(oa)]),_:1})]),_:1})],64))}};export{ga as default};
