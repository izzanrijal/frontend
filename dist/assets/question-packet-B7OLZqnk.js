import{p as J,l as K,a0 as me,f as m,a1 as _e,N as oe,a2 as H,Z as W,G as N,B as X,d as e,a3 as be,a4 as we,a5 as he,I as le,a6 as ke,a7 as ye,F as D,_ as Z,u as j,M as ee,g as F,a8 as ve,o as w,e as P,w as t,a as S,t as q,J as z,c as A,W as O,n as U,b as B,X as E,Q as fe,R as pe,Y as Ve,D as Ie,E as Se,H as T}from"./index-eZEjSHJh.js";import{a as L}from"./VGrid-CqEyV3yQ.js";import{c as Q,d as M,a as $,b as y,f as xe,V as G,e as Y,g as qe}from"./VCard-DzIhmM2q.js";import{V as se}from"./VImg-DsWB0ZHh.js";import{m as Ce,V as ne,a as Pe}from"./VInput-C_2xLkhr.js";import{m as $e,V as ge,a as Re,b as Ae}from"./VSelectionControl-C9HF0eb3.js";import{m as Be,V as De,u as Ee,a as re}from"./VOverlay-BwiAsA-A.js";import{f as Te}from"./forwardRefs-DWGaNmQL.js";import{V as ue}from"./VDivider-CFuVK1SV.js";import"./index-D2hndz-Y.js";import"./lazy-dlttoNEF.js";const ze=J({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Be({origin:"center center",scrollStrategy:"block",transition:{component:De},zIndex:2400})},"VDialog"),Oe=K()({name:"VDialog",props:ze(),emits:{"update:modelValue":o=>!0},setup(o,s){let{slots:d}=s;const u=me(o,"modelValue"),{scopeId:c}=Ee(),n=m();function l(p){var g,h;const r=p.relatedTarget,i=p.target;if(r!==i&&((g=n.value)!=null&&g.contentEl)&&((h=n.value)!=null&&h.globalTop)&&![document,n.value.contentEl].includes(i)&&!n.value.contentEl.contains(i)){const k=we(n.value.contentEl);if(!k.length)return;const x=k[0],V=k[k.length-1];r===x?V.focus():x.focus()}}_e&&oe(()=>u.value&&o.retainFocus,p=>{p?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),oe(u,async p=>{var r,i;await H(),p?(r=n.value.contentEl)==null||r.focus({preventScroll:!0}):(i=n.value.activatorEl)==null||i.focus({preventScroll:!0})});const f=W(()=>N({"aria-haspopup":"dialog","aria-expanded":String(u.value)},o.activatorProps));return X(()=>{const p=re.filterProps(o);return e(re,N({ref:n,class:["v-dialog",{"v-dialog--fullscreen":o.fullscreen,"v-dialog--scrollable":o.scrollable},o.class],style:o.style},p,{modelValue:u.value,"onUpdate:modelValue":r=>u.value=r,"aria-modal":"true",activatorProps:f.value,role:"dialog"},c),{activator:d.activator,default:function(){for(var r=arguments.length,i=new Array(r),g=0;g<r;g++)i[g]=arguments[g];return e(be,{root:"VDialog"},{default:()=>{var h;return[(h=d.default)==null?void 0:h.call(d,...i)]}})}})}),Te({},n)}}),Qe=J({...$e({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ce=K()({name:"VRadio",props:Qe(),setup(o,s){let{slots:d}=s;return X(()=>e(ge,N(o,{class:["v-radio",o.class],style:o.style,type:"radio"}),d)),{}}}),Ne=J({height:{type:[Number,String],default:"auto"},...Ce(),...he(Re(),["multiple"]),trueIcon:{type:le,default:"$radioOn"},falseIcon:{type:le,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ie=K()({name:"VRadioGroup",inheritAttrs:!1,props:Ne(),emits:{"update:modelValue":o=>!0},setup(o,s){let{attrs:d,slots:u}=s;const c=ke(),n=W(()=>o.id||`radio-group-${c}`),l=me(o,"modelValue");return X(()=>{const[f,p]=ye(d),r=ne.filterProps(o),i=ge.filterProps(o),g=u.label?u.label({label:o.label,props:{for:n.value}}):o.label;return e(ne,N({class:["v-radio-group",o.class],style:o.style},f,r,{modelValue:l.value,"onUpdate:modelValue":h=>l.value=h,id:n.value}),{...u,default:h=>{let{id:k,messagesId:x,isDisabled:V,isReadonly:v}=h;return e(D,null,[g&&e(Pe,{id:k.value},{default:()=>[g]}),e(Ae,N(i,{id:k.value,"aria-describedby":x.value,defaultsTarget:"VRadio",trueIcon:o.trueIcon,falseIcon:o.falseIcon,type:o.type,disabled:V.value,readonly:v.value,"aria-labelledby":g?k.value:void 0,multiple:!1},p,{modelValue:l.value,"onUpdate:modelValue":_=>l.value=_}),u)])}})}),{}}}),Le=o=>(fe("data-v-93cf551e"),o=o(),pe(),o),Ue={style:{color:"#0080ff"}},Ge={style:{color:"black"},class:"font-weight-semibold mb-1"},We={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},je={class:"me-n3",style:{padding:"20px"}},Fe=Le(()=>S("span",{style:{color:"#0080ff"}},"Seberapa yakin jawaban anda?",-1)),He={class:"me-n3",style:{padding:"20px"}},Me={__name:"Question",props:["mode"],setup(o){const s=m({}),d=m(null),u=m(null),c=j();ee();const n=m([]);var l=localStorage.getItem("token");const f=m(!1);F(async()=>{ve.on("refreshQuestion",v=>{console.log("run emit trigger: ",v.number),r.value=null,i.value=null,p()}),await p()});const p=async()=>{if(l)try{const v=localStorage.getItem("paket"),_=localStorage.getItem("number"),a=await L.get("https://gateway.berkompeten.com/api/student/question?id="+v+"&number="+_,{headers:{Authorization:`Bearer ${l}`}});s.value=a.data.data,localStorage.setItem("question_id",a.data.data.id);const b={label:a.data.data.option_a,value:"A"},C={label:a.data.data.option_b,value:"B"},R={label:a.data.data.option_c,value:"C"},I={label:a.data.data.option_d,value:"D"},ae={label:a.data.data.option_e,value:"E"};if(n.value=[b,C,R,I,ae],s.value.student_answer&&(r.value=s.value.student_answer,localStorage.setItem("answer",r.value)),s.value.student_answer_value&&(i.value=s.value.student_answer_value,localStorage.setItem("answerValue",i.value)),console.log("mode: ",mode),mode==="review"){console.log("run mode review");const te=await L.post("https://gateway.berkompeten.com/api/student/user/review-answer",{question_packet_id:v,number:_},{headers:{Authorization:`Bearer ${l}`}});d.value=te.data.data.correct_answer,u.value=te.data.data.user_answer,r.value=u.value}}catch(v){v.response&&v.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),c.push("/login"))}else c.push("/login")},r=m(null),i=m(null),g=[{label:"Sangat Yakin",value:"yakin",color:"green"},{label:"Masih Ragu",value:"ragu",color:"orange"},{label:"Saya tidak tahu untuk jawaban soal ini",value:"tidak tahu",color:"red"}],h=()=>{console.log("selected option: ",r.value),localStorage.setItem("answer",r.value)},k=()=>{console.log("selected option yakin: ",i.value),localStorage.setItem("answerValue",i.value)},x=v=>(console.log("val: ",v),console.log("correct answer: ",d.value),v===d.value),V=v=>(console.log("val: ",v),console.log("user answer: ",u.value),v===u.value&&v!==d.value);return(v,_)=>(w(),P(G,null,{default:t(()=>[e(Q,{class:"outlined-card-item"},{default:t(()=>[e(M,null,{default:t(()=>[S("span",Ue,q(s.value.question_number),1)]),_:1}),s.value.image_url!=""?(w(),P(se,{key:0,src:s.value.image_url,style:{"block-size":"350px",cursor:"pointer","inline-size":"350px"},onClick:_[0]||(_[0]=a=>f.value=!0)},null,8,["src"])):z("",!0),S("p",Ge,q(s.value.scenario),1),S("p",We,q(s.value.question),1),S("div",je,[e($,{align:"center"},{default:t(()=>[e(y,{cols:"12",md:"12"},{default:t(()=>[o.mode==="review"?(w(!0),A(D,{key:0},O(n.value,(a,b)=>(w(),P(Q,{class:U({"correct-answer":x(a.value),"wrong-answer":V(a.value)})},{default:t(()=>[e(xe,{class:"wrap-text"},{default:t(()=>[B(q(a.value)+". "+q(a.label),1)]),_:2},1024)]),_:2},1032,["class"]))),256)):z("",!0),o.mode==="question"?(w(),P(ie,{key:1,modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=a=>r.value=a),class:"mb-2",onChange:h,disabled:o.mode==="review"},{default:t(()=>[(w(!0),A(D,null,O(n.value,(a,b)=>(w(),P(ce,{key:b,label:a.label,value:a.value,color:x(a.value)?"green":V(a.value)?"red":"default",class:U({"correct-answer":x(a.value),"wrong-answer":V(a.value)}),disabled:o.mode==="review"},null,8,["label","value","color","class","disabled"]))),128))]),_:1},8,["modelValue","disabled"])):z("",!0)]),_:1})]),_:1})])]),_:1}),e(Q,{class:"outlined-card-item"},{default:t(()=>[e(M,null,{default:t(()=>[Fe]),_:1}),S("div",He,[e($,{align:"center"},{default:t(()=>[e(y,{cols:"12",md:"12"},{default:t(()=>[e(ie,{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=a=>i.value=a),class:"mb-2",onChange:k},{default:t(()=>[(w(),A(D,null,O(g,(a,b)=>e(ce,{key:b,value:a.value,class:"custom-radio",disabled:o.mode==="review"},{label:t(()=>[S("span",{class:U(["custom-circle",a.color])},null,2),B(" "+q(a.label),1)]),_:2},1032,["value","disabled"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(Oe,{modelValue:f.value,"onUpdate:modelValue":_[4]||(_[4]=a=>f.value=a),"max-width":"600px"},{default:t(()=>[e(G,null,{default:t(()=>[e(Y,null,{default:t(()=>[s.value.image_url!==""?(w(),P(se,{key:0,src:s.value.image_url,style:{"max-inline-size":"100%"}},null,8,["src"])):z("",!0)]),_:1}),e(qe,null,{default:t(()=>[e(E,{color:"primary",text:"",onClick:_[3]||(_[3]=a=>f.value=!1)},{default:t(()=>[B("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ye=Z(Me,[["__scopeId","data-v-93cf551e"]]),Je={__name:"QuestionHeader",setup(o){const s=j();var d=localStorage.getItem("token");const u=m(window.innerWidth);F(async()=>{if(window.addEventListener("resize",c),c(),d){console.log("question packet detail run: ");try{const l=localStorage.getItem("paket");console.log("question packet detail id: ",l);const f=await axios.get("https://gateway.berkompeten.com/api/student/question-packet/detail?id="+l,{headers:{Authorization:`Bearer ${d}`}});console.log("question packet detail resp: ",f.data.data),questionsPacket.value=f.data.data,console.log("question packet detail: ",questionsPacket)}catch(l){l.response&&l.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),s.push("/login"))}}else s.push("/login")}),Ve(()=>{window.removeEventListener("resize",c)});const c=()=>{u.value=window.innerWidth},n=async()=>{try{s.push("/review")}catch(l){console.error("review failed:",l)}};return(l,f)=>(w(),P(G,null,{default:t(()=>[e($,{class:"match-height"},{default:t(()=>[Ie(e(y,{cols:"12",md:"3"},null,512),[[Se,T(u)>=768]]),e(y,{cols:"12",md:"9"},{default:t(()=>[e(Q,null,{append:t(()=>[e($,{class:"match-height"},{default:t(()=>[e(y,{cols:"12",md:"7"},{default:t(()=>[e(E,{block:"",type:"submit",to:"/lab-values",color:"#0080ff",variant:"outlined"},{default:t(()=>[B(" Nilai Normal Laboratorium ")]),_:1})]),_:1}),e(y,{cols:"12",md:"5"},{default:t(()=>[e(E,{block:"",type:"submit",onClick:n,color:"#0080ff"},{default:t(()=>[B(" Selesaikan Test ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ke=Z(Je,[["__scopeId","data-v-7bbdcefc"]]),Xe=o=>(fe("data-v-01116c3e"),o=o(),pe(),o),Ze=Xe(()=>S("span",{style:{color:"#0080ff"}},"Soal Dikerjakan",-1)),ea={class:"font-weight-semibold mb-1"},aa={style:{color:"#0080ff"}},ta={class:"d-sm-block"},oa={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},de=5,la={__name:"QuestionOrder",setup(o){const s=m([]),d=j();ee();const u=m(null),c=m(null);var n=localStorage.getItem("token");const l=m(null);F(async()=>{await k(),await H(),_()});var f=m(null),p=m(null);m(null),m(null);var r=m(null),i=m(null),g=m(0),h=m(0);const k=async()=>{if(n)try{u.value=localStorage.getItem("paket"),c.value=localStorage.getItem("number");const b=(await L.get("https://gateway.berkompeten.com/api/student/questions/orders?id="+u.value,{headers:{Authorization:`Bearer ${n}`}})).data.question_numbers;h.value=0,b.forEach(C=>{C.is_fill&&h.value++}),console.log("Total Answered: ",h.value),g=b.length,console.log("question length: ",b.length),s.value=W(()=>{const C=[];for(let R=0;R<b.length;R+=de)C.push(b.slice(R,R+de));return console.log("result: ",C),C}),console.log("GROUP BUT: ",s)}catch(a){a.response&&a.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),d.push("/login"))}else d.push("/login")},x=async()=>{if(c.value!=1){console.log("previous without answer: ",+c.value-1),V(+c.value-1);return}},V=async a=>{localStorage.setItem("number",a),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),await k(),await H(),_(),ve.emit("refreshQuestion",{number:a})},v=async()=>{if(f=localStorage.getItem("answer"),p=localStorage.getItem("answerValue"),r=localStorage.getItem("paket"),i=localStorage.getItem("question_id"),f===null&&c.value!=g){console.log("next without answer: ",+c.value+1),V(+c.value+1);return}if(p===null){l.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(i===null){l.value="question id is empty. please contact your administrator";return}try{console.log("paket id: ",r),console.log("ques id: ",i),console.log("answer: ",f),console.log("answer val: ",p);const a=await L.post("https://gateway.berkompeten.com/api/student/user/answer/add",{question_packet_id:r,question_id:i,answer:f,answer_value:p},{headers:{Authorization:`Bearer ${n}`}});console.log("answer submit: ",f),console.log("answer val submit: ",p),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),c.value==g&&d.push("/review"),v()}catch(a){console.error("answer failed:",a),a.response&&a.response.data?l.value=a.response.data.errors:l.value="An unexpected error occurred during login."}},_=()=>{const a=document.querySelector(".vcardtext-container"),b=document.querySelector(".v-btn.custom-btn.active");a&&b&&(a.scrollTop=b.offsetTop-a.offsetTop-a.clientHeight/2+b.clientHeight/2)};return(a,b)=>(w(),P(G,null,{default:t(()=>[e($,{"no-gutters":""},{default:t(()=>[e(y,{md:"12"},{default:t(()=>[e(Q,null,{append:t(()=>[S("p",ea,[S("span",aa,q(T(h)),1),B(" / "+q(T(g)),1)])]),default:t(()=>[e(M,null,{default:t(()=>[Ze]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:t(()=>[(w(!0),A(D,null,O(s.value.value,(C,R)=>(w(),P($,{key:R,class:"row-item"},{default:t(()=>[(w(!0),A(D,null,O(C,I=>(w(),A("div",{key:I.number,class:"d-flex flex-wrap v-item"},[e(E,{color:c.value===I.number?"primary":I.is_fill?I.color:"",variant:I.is_fill?"tonal":"outlined",class:U(["mb-1 custom-btn",{active:c.value===I.number}]),style:{"block-size":"40px","inline-size":"40px"},onClick:ae=>V(I.number),ref_for:!0,ref:"button-"+I.number},{default:t(()=>[S("span",ta,q(I.number),1)]),_:2},1032,["color","variant","class","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:t(()=>[l.value?(w(),A("div",oa,q(l.value),1)):z("",!0),e($,{class:"d-flex flex-wrap"},{default:t(()=>[e(y,{cols:"6",class:"mb-1"},{default:t(()=>[e(E,{onClick:x,color:"#0080ff",variant:"outlined",disabled:c.value==1},{default:t(()=>[B("Kembali")]),_:1},8,["disabled"])]),_:1}),e(y,{cols:"6",class:"mb-1"},{default:t(()=>[e(E,{onClick:v,color:"#0080ff"},{default:t(()=>[B("Selanjutnya")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},sa=Z(la,[["__scopeId","data-v-01116c3e"]]),_a={__name:"question-packet",setup(o){const s=localStorage.getItem("token"),d=m(null),u=j(),c=ee(),n=W(()=>c.path==="/soal-review"?"review":"question");return F(async()=>{if(s)try{const l=await L.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${s}`}});d.value=l.data}catch(l){l.response&&l.response.status===401&&u.push("/login")}else u.push("/login")}),(l,f)=>(w(),A(D,null,[e($,{class:"match-height"},{default:t(()=>[e(y,{cols:"12",md:"12"},{default:t(()=>[e(Ke,{mode:T(n)},null,8,["mode"])]),_:1})]),_:1}),e($,{class:"match-height"},{default:t(()=>[e(y,{cols:"12",md:"9"},{default:t(()=>[e(Ye,{mode:T(n)},null,8,["mode"])]),_:1}),e(y,{cols:"12",md:"3"},{default:t(()=>[e(sa,{mode:T(n)},null,8,["mode"])]),_:1})]),_:1})],64))}};export{_a as default};
