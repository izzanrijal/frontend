import{b as e,V as a,l as s,a1 as t,c as l,z as i,B as o,D as c,v as n,O as r,F as d,X as u,P as p,W as f,S as m,R as _,a2 as k}from"./vendor-BrUfZ_qe.js";import{a as h}from"./axios-fZjk1EK6.js";import{_ as g,V as v,g as w}from"./index-BAywq0Ob.js";import{a as b,b as y,V as x,c as j,d as C}from"./VCard-DQMXF3Nm.js";import{V}from"./VGrid-DpcPUu2X.js";import{V as z}from"./VChip-Bk4nvOx4.js";import"./vuetify-BGzDg8SZ.js";import"./VImg-B_JtkRwX.js";import"./index-xgti94jS.js";const S={class:"title-container",style:{padding:"20px"}},I={style:{color:"black"}},B={key:0,class:"status-text font-weight-semibold mb-1"},q={key:1,class:"status-text-start font-weight-semibold mb-1"},A=["onClick"],D={class:"d-flex align-center flex-wrap mb-3"},L=g({__name:"QuestionDashboard",setup(g){const L=e([]),W=a(),E=e(window.innerWidth);var F=localStorage.getItem("token");s((async()=>{if(F)try{const e=await h.get("https://gateway.berkompeten.id/api/student/question-packet",{headers:{Authorization:`Bearer ${F}`}});L.value=e.data.data}catch(e){e.response&&401===e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),W.push("/login"))}else W.push("/login");window.addEventListener("resize",G)})),t((()=>{window.removeEventListener("resize",G)}));const G=()=>{E.value=window.innerWidth},P=e=>{localStorage.setItem("paket",e),W.push("/detail")},$=()=>{W.push("/upgrade/membership")},K=l((()=>E.value<768));return(e,a)=>(o(),i(x,{class:"vcardtext-container"},{default:c((()=>[n(b,null,{default:c((()=>[(o(!0),r(d,null,u(L.value,(e=>(o(),i(y,{cols:"12",md:"6",key:e.id,class:"question-card"},{default:c((()=>[n(x,{class:"mb-4"},{default:c((()=>[n(j,null,{append:c((()=>[!0===e.is_accessed&&!1===e.is_done&&0===e.answer?(o(),i(w,{key:0,block:"",type:"submit",onClick:a=>P(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:c((()=>[_(" Kerjakan Sekarang ")])),_:2},1032,["onClick","color"])):f("",!0),!0===e.is_accessed&&!1===e.is_done&&e.answer>0&&null!==e.start_date&&null===e.finish_date?(o(),i(w,{key:1,block:"",type:"submit",onClick:a=>P(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:c((()=>[_(" Lanjutkan ")])),_:2},1032,["onClick","color"])):f("",!0),!0===e.is_done?(o(),r("a",{key:2,href:"javascript:void(0);",style:{color:"#0080ff","font-weight":"bold","text-decoration":"underline"},onClick:k((a=>P(e.id)),["prevent"])}," Detail & Pembahasan ",8,A)):f("",!0)])),default:c((()=>[n(b,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:c((()=>[n(V,{color:e.is_accessed?"#0080ff":"#cccccc",rounded:"",size:"40",class:"elevation-2 avatar-icon"},{default:c((()=>[n(v,{size:"24",icon:"ri-file-text-line",class:"icon"})])),_:2},1032,["color"]),p("div",S,[n(C,null,{default:c((()=>[p("span",I,m(e.title),1)])),_:2},1024),!0===e.is_accessed&&!1===e.is_done&&0===e.answer?(o(),r("p",B," Belum dikerjakan ")):f("",!0),!0===e.is_accessed&&!1===e.is_done&&e.answer>0&&null!==e.start_date&&null===e.finish_date?(o(),r("p",q," Mulai dikerjakan: "+m(e.start_date),1)):f("",!0),!1===e.is_accessed?(o(),r("a",{key:2,class:"upgrade-link",onClick:$},"Silahkan upgrade membership untuk melanjutkan")):f("",!0)])])),_:2},1024)])),_:2},1024),n(b,{align:"center",class:"d-flex flex-wrap row-item"},{default:c((()=>{return[p("div",D,[(o(!0),r(d,null,u((a=e.topics,K.value?a.slice(0,3):a),(a=>(o(),i(z,{class:"d-flex flex-wrap v-item",color:e.is_accessed?"#0080ff":"#cccccc",size:"small",key:a},{default:c((()=>[_(m(a),1)])),_:2},1032,["color"])))),128))])];var a})),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}))}},[["__scopeId","data-v-9c4521fd"]]),W={__name:"question-packet-dashboard",setup(t){const l=localStorage.getItem("token"),r=e(null),d=a();return s((async()=>{if(l)try{const e=await h.get("https://gateway.berkompeten.id/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});r.value=e.data}catch(e){e.response&&401===e.response.status&&d.push("/login")}else d.push("/login")})),(e,a)=>(o(),i(b,{class:"match-height"},{default:c((()=>[n(y,{cols:"12",md:"12"},{default:c((()=>[n(L)])),_:1})])),_:1}))}};export{W as default};
