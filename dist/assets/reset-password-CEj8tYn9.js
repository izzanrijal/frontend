import{_ as x,u as b,M as g,at as M,f as _,g as T,z as C,Z as P,c as m,d as s,w as a,o as c,a as p,H as R,$ as I,X as N,b as S,t as w,J as V,Q as B,R as E}from"./index-C6MEBkdq.js";import{l as U}from"./berkompeten_logo-eijgBe6e.js";import{a as q,b as A}from"./auth-v1-mask-light-Dw7KYw8D.js";import{a as H}from"./VGrid-cPzoo2-i.js";import{V as L,c as j,e as v,a as D,b as d}from"./VCard-CanWpsiV.js";import{V as F,a as i}from"./VForm-_s0ajoHQ.js";import"./VImg-DpaBVD3H.js";import"./index-DCiM33UQ.js";import"./VInput-qjCQWReP.js";import"./forwardRefs-DWGaNmQL.js";const y=n=>(B("data-v-9133d962"),n=n(),E(),n),z={class:"auth-wrapper d-flex align-center justify-center pa-4"},J={class:"d-flex"},Q=["innerHTML"],X=y(()=>p("h5",{class:"text-h5 font-weight-semibold mb-1"},"Reset Password",-1)),Z=y(()=>p("p",{class:"mb-0"},"Enter your new password",-1)),$={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},G={key:1,class:"mt-2 text-success"},K={__name:"reset-password",setup(n){b();const f=g(),e=M({email:"",token:"",password:"",password_confirmation:""}),r=_(null),u=_(null);T(()=>{e.email=f.query.email||"",e.token=f.query.token||""});const h=async()=>{try{if(e.password===""||e.password_confirmation===""){r.value="All fields are required";return}const l=await H.post("https://gateway.berkompeten.com/api/student/reset-password",{email:e.email,token:e.token,password:e.password,password_confirmation:e.password_confirmation});u.value=l.data.message,r.value=null}catch(l){l.response&&l.response.data?r.value=l.response.data.message||"An error occurred":r.value="An unexpected error occurred",u.value=null}},k=C();return P(()=>k.global.name.value==="light"?q:A),(l,o)=>(c(),m("div",z,[s(L,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:a(()=>[s(j,{class:"justify-center"},{prepend:a(()=>[p("div",J,[p("div",{innerHTML:R(U)},null,8,Q)])]),_:1}),s(v,{class:"pt-2"},{default:a(()=>[X,Z]),_:1}),s(v,null,{default:a(()=>[s(F,{onSubmit:I(h,["prevent"])},{default:a(()=>[s(D,null,{default:a(()=>[s(d,{cols:"12"},{default:a(()=>[s(i,{modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.email=t),label:"Email",type:"email",readonly:""},null,8,["modelValue"])]),_:1}),s(d,{cols:"12"},{default:a(()=>[s(i,{modelValue:e.token,"onUpdate:modelValue":o[1]||(o[1]=t=>e.token=t),label:"Token",type:"text",readonly:""},null,8,["modelValue"])]),_:1}),s(d,{cols:"12"},{default:a(()=>[s(i,{modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.password=t),label:"New Password",type:"password"},null,8,["modelValue"])]),_:1}),s(d,{cols:"12"},{default:a(()=>[s(i,{modelValue:e.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=t=>e.password_confirmation=t),label:"Confirm Password",type:"password"},null,8,["modelValue"])]),_:1}),s(d,{cols:"12"},{default:a(()=>[s(N,{block:"",type:"submit",color:"#0080ff"},{default:a(()=>[S("Reset Password")]),_:1}),r.value?(c(),m("div",$,w(r.value),1)):V("",!0),u.value?(c(),m("div",G,w(u.value),1)):V("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}},de=x(K,[["__scopeId","data-v-9133d962"]]);export{de as default};
