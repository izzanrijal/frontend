import{_ as C,u as S,a3 as L,z as M,Y as A,f as _,g as N,c as V,d as a,w as s,H as t,o as b,a as r,ar as R,X as j,b as k,t as H,J as B,O as D,Q as E,R as P}from"./index-4lKx3wrq.js";import{a as U,b as F,_ as J,c as Q,d as X}from"./auth-v1-tree-nxv3Engt.js";import{l as Z}from"./berkompeten_logo-LikdcGGo.js";import{a as $}from"./axios-G2rPRu76.js";import{a as q,V as w}from"./VCard-qxjXagZr.js";import{V as h}from"./VImg-PnDL5qkr.js";import{b as z,V as G,a as i}from"./VCardItem-MOrZfQ2X.js";import{V as K,a as x}from"./VTextField-HE9rSi11.js";import{V as O}from"./VCheckbox-lrYQWmWh.js";import{V as y}from"./VDivider-GS6Uzmp4.js";import"./VGrid-dDLZ6FlL.js";import"./VInput-F18oTe3o.js";import"./index-eVj4sFZC.js";import"./forwardRefs-g5bhJaRn.js";import"./VSelectionControl-Z4ddwFvF.js";const c=d=>(E("data-v-aeef88c8"),d=d(),P(),d),Y={class:"auth-wrapper d-flex align-center justify-center pa-4"},W={class:"d-flex"},ee=["innerHTML"],ae=c(()=>r("h5",{class:"text-h5 font-weight-semibold mb-1"}," Hai Selamat Datang! ",-1)),te=c(()=>r("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1)),se={class:"d-flex align-center justify-space-between flex-wrap mt-1 mb-4"},oe=c(()=>r("a",{class:"ms-2 mb-1",href:"javascript:void(0)"}," Forgot Password? ",-1)),re={class:"g-recaptcha","data-sitekey":"6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI","data-callback":"login"},le={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},ne=c(()=>r("span",null,"New on our platform?",-1)),ie=c(()=>r("span",{class:"mx-4"},"or",-1)),ce={__name:"login",setup(d){const m=S(),o=L({email:"",password:"",remember:!1}),v=M(),I=A(()=>v.global.name.value==="light"?U:F),p=_(!1),l=_(null);var g=localStorage.getItem("token");N(async()=>{console.log("token login: ",g),g&&m.push("https://gateway.berkompeten.com/dashboard")});const T=async f=>{try{grecaptcha.ready(async function(){try{console.log("rec resp: ",f);const e=await $.post("https://gateway.berkompeten.com/api/student/login",{email:o.email,password:o.password,"g-recaptcha-response":f});console.log(e);const u=e.data.token;console.log(u),localStorage.setItem("token",u),m.push("https://gateway.berkompeten.com/dashboard")}catch(e){console.error("Login failed:",e),e.response&&e.response.data?(l.value=e.response.data.errors,e.response.data.is_exist===!1&&(localStorage.setItem("email",o.email),m.push("https://gateway.berkompeten.com/register"))):l.value="An unexpected error occurred during login."}})}catch(e){console.error("Login failed:",e),e.response&&e.response.data?(l.value=e.response.data.errors,e.response.data.is_exist===!1&&(localStorage.setItem("email",o.email),m.push("https://gateway.berkompeten.com/register"))):l.value="An unexpected error occurred during login."}};return(f,e)=>{const u=D("RouterLink");return b(),V("div",Y,[a(q,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[a(z,{class:"justify-center"},{prepend:s(()=>[r("div",W,[r("div",{innerHTML:t(Z)},null,8,ee)])]),_:1}),a(w,{class:"pt-2"},{default:s(()=>[ae,te]),_:1}),a(w,null,{default:s(()=>[a(K,{onSubmit:R(T,["prevent"])},{default:s(()=>[a(G,null,{default:s(()=>[a(i,{cols:"12"},{default:s(()=>[a(x,{modelValue:t(o).email,"onUpdate:modelValue":e[0]||(e[0]=n=>t(o).email=n),label:"Email",type:"email"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12"},{default:s(()=>[a(x,{modelValue:t(o).password,"onUpdate:modelValue":e[1]||(e[1]=n=>t(o).password=n),label:"Password",placeholder:"············",type:t(p)?"text":"password","append-inner-icon":t(p)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":e[2]||(e[2]=n=>p.value=!t(p))},null,8,["modelValue","type","append-inner-icon"]),r("div",se,[a(O,{modelValue:t(o).remember,"onUpdate:modelValue":e[3]||(e[3]=n=>t(o).remember=n),label:"Remember me"},null,8,["modelValue"]),oe]),r("div",re,[a(j,{block:"",type:"submit",color:"#0080ff"},{default:s(()=>[k(" Login ")]),_:1})]),t(l)?(b(),V("div",le,H(t(l)),1)):B("",!0)]),_:1}),a(i,{cols:"12",class:"text-center text-base"},{default:s(()=>[ne,a(u,{class:"text-primary ms-2",to:"/register"},{default:s(()=>[k(" Create an account ")]),_:1})]),_:1}),a(i,{cols:"12",class:"d-flex align-center"},{default:s(()=>[a(y),ie,a(y)]),_:1}),a(i,{cols:"12",class:"text-center"},{default:s(()=>[a(J)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(h,{class:"auth-footer-start-tree d-none d-md-block",src:t(Q),width:250},null,8,["src"]),a(h,{src:t(X),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),a(h,{class:"auth-footer-mask d-none d-md-block",src:t(I)},null,8,["src"])])}}},Ie=C(ce,[["__scopeId","data-v-aeef88c8"]]);export{Ie as default};
