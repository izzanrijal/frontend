import{V as a,Z as e,r as s,b as l,l as o,c as t,O as r,B as d,v as n,D as u,P as m,u as i,a2 as p,W as c,R as f,S as w,$ as v,a0 as _}from"./vendor-BrUfZ_qe.js";import{l as V}from"./berkompeten_logo-CQUigQgy.js";import{a as y,b}from"./auth-v1-mask-light-Dw7KYw8D.js";import{a as j}from"./axios-fZjk1EK6.js";import{_ as k,g}from"./index-BAywq0Ob.js";import{V as x,c as h,e as P,a as A,b as R}from"./VCard-DQMXF3Nm.js";import{V as U,a as q}from"./VForm-Cja6eDMe.js";import{J as E}from"./vuetify-BGzDg8SZ.js";import"./VGrid-DpcPUu2X.js";import"./VImg-B_JtkRwX.js";import"./index-xgti94jS.js";import"./VInput-Hwser3Zj.js";import"./forwardRefs-BiNqQvLW.js";const H=a=>(v("data-v-0cb66294"),a=a(),_(),a),I={class:"auth-wrapper d-flex align-center justify-center pa-4"},L={class:"d-flex"},T=["innerHTML"],C=H((()=>m("h5",{class:"text-h5 font-weight-semibold mb-1"},"Reset Password",-1))),F=H((()=>m("p",{class:"mb-0"},"Enter your new password",-1))),J={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},M={key:1,class:"mt-2 text-success"},S=k({__name:"reset-password",setup(v){a();const _=e(),k=s({email:"",token:"",password:"",password_confirmation:""}),H=l(null),S=l(null);o((()=>{k.email=_.query.email||"",k.token=_.query.token||""}));const z=async()=>{try{if(""===k.password||""===k.password_confirmation)return void(H.value="All fields are required");const a=await j.post("https://gateway.berkompeten.id/api/student/reset-password",{email:k.email,token:k.token,password:k.password,password_confirmation:k.password_confirmation});S.value=a.data.message,H.value=null}catch(a){a.response&&a.response.data?H.value=a.response.data.message||"An error occurred":H.value="An unexpected error occurred",S.value=null}},B=E();return t((()=>"light"===B.global.name.value?y:b)),(a,e)=>(d(),r("div",I,[n(x,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:u((()=>[n(h,{class:"justify-center"},{prepend:u((()=>[m("div",L,[m("div",{innerHTML:i(V)},null,8,T)])])),_:1}),n(P,{class:"pt-2"},{default:u((()=>[C,F])),_:1}),n(P,null,{default:u((()=>[n(U,{onSubmit:p(z,["prevent"])},{default:u((()=>[n(A,null,{default:u((()=>[n(R,{cols:"12"},{default:u((()=>[n(q,{modelValue:k.email,"onUpdate:modelValue":e[0]||(e[0]=a=>k.email=a),label:"Email",type:"email",readonly:""},null,8,["modelValue"])])),_:1}),n(R,{cols:"12"},{default:u((()=>[n(q,{modelValue:k.token,"onUpdate:modelValue":e[1]||(e[1]=a=>k.token=a),label:"Token",type:"text",readonly:""},null,8,["modelValue"])])),_:1}),n(R,{cols:"12"},{default:u((()=>[n(q,{modelValue:k.password,"onUpdate:modelValue":e[2]||(e[2]=a=>k.password=a),label:"New Password",type:"password"},null,8,["modelValue"])])),_:1}),n(R,{cols:"12"},{default:u((()=>[n(q,{modelValue:k.password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=a=>k.password_confirmation=a),label:"Confirm Password",type:"password"},null,8,["modelValue"])])),_:1}),n(R,{cols:"12"},{default:u((()=>[n(g,{block:"",type:"submit",color:"#0080ff"},{default:u((()=>[f("Reset Password")])),_:1}),H.value?(d(),r("div",J,w(H.value),1)):c("",!0),S.value?(d(),r("div",M,w(S.value),1)):c("",!0)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]))}},[["__scopeId","data-v-0cb66294"]]);export{S as default};
