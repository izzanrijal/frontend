import{a as m}from"./axios-G2rPRu76.js";import{_ as z,f as g,u as x,M as Q,g as S,o as _,e as k,w as e,H as R,d as t,t as i,a as s,X as y,b as h,F as j,W as A,c as C,Q as P,R as q}from"./index-4lKx3wrq.js";import{b as v,c as M,V as p,a as d}from"./VCardItem-MOrZfQ2X.js";import{V as T}from"./VImg-PnDL5qkr.js";import{a as $}from"./VCard-qxjXagZr.js";import"./VGrid-dDLZ6FlL.js";const N="/assets/review-wTFXgN6Z.png",b=c=>(P("data-v-96c9e649"),c=c(),q(),c),D=b(()=>s("span",{style:{color:"#0080ff","font-size":"larger"}},[s("b",null,"Review kembali hasil pengerjaan test Anda")],-1)),F={class:"me-n3",style:{padding:"20px"}},L=b(()=>s("p",{style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"}," Soal yang telah dikerjakan: ",-1)),X={style:{color:"#0080ff","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},E=b(()=>s("p",{style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"}," Soal yang belum dikerjakan: ",-1)),H={style:{color:"red","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},K={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},W={style:{color:"#0080ff"}},Z={style:{"max-block-size":"300px","overflow-y":"auto"}},G={class:"me-n3",style:{padding:"10px"}},J={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},O={__name:"QuestionReview",setup(c){const l=g({}),u=g([]),n=x();Q(),g([]);var o=localStorage.getItem("token");S(async()=>{await w(),await I()});const w=async()=>{if(o)try{const a=localStorage.getItem("paket"),r=await m.get("https://gateway.berkompeten.com/api/student/user/test/review?id="+a,{headers:{Authorization:`Bearer ${o}`}});l.value=r.data.data}catch(a){a.response&&a.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),n.push("https://gateway.berkompeten.com/login"))}else n.push("https://gateway.berkompeten.com/login")},I=async()=>{if(o)try{const a=localStorage.getItem("paket"),r=await m.get("https://gateway.berkompeten.com/api/student/user/skip/questions?id="+a,{headers:{Authorization:`Bearer ${o}`}});u.value=r.data.data}catch(a){a.response&&a.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),n.push("https://gateway.berkompeten.com/login"))}else n.push("https://gateway.berkompeten.com/login")},V=()=>{n.push("https://gateway.berkompeten.com/soal")},B=async()=>{const a=localStorage.getItem("paket");try{console.log("paket id: ",a);const r=await m.post("https://gateway.berkompeten.com/api/student/user/finish-the-test",{question_packet_id:a},{headers:{Authorization:`Bearer ${o}`}});n.push("https://gateway.berkompeten.com/result")}catch(r){console.error("answer failed:",r),r.response&&r.response.data?errorMessage.value=r.response.data.errors:errorMessage.value="An unexpected error occurred during login."}};return(a,r)=>(_(),k($,null,{default:e(()=>[t(v,{class:"text-center"},{default:e(()=>[t(T,{src:R(N),style:{"block-size":"150px","inline-size":"150px"},class:"mx-auto"},null,8,["src"]),t(M,null,{default:e(()=>[D]),_:1}),s("div",F,[t(p,{align:"center"},{default:e(()=>[t(d,{cols:"6",md:"6"},{default:e(()=>[L,s("p",X,i(l.value.total_answered),1)]),_:1}),t(d,{cols:"6",md:"6"},{default:e(()=>[E,s("p",H,i(l.value.total_skip),1)]),_:1})]),_:1}),t(p,{class:"justify-center"},{default:e(()=>[t(d,{cols:"6",class:"mb-1"},{default:e(()=>[t(y,{onClick:B,color:"#0080ff",block:""},{default:e(()=>[h("Selesaikan Tes")]),_:1})]),_:1}),t(d,{cols:"6",class:"mb-1"},{default:e(()=>[t(y,{onClick:V,color:"#0080ff",variant:"outlined",block:""},{default:e(()=>[h(" Kembali Mengerjakan ")]),_:1})]),_:1})]),_:1}),t(p,{class:"d-flex flex-wrap justify-center"},{default:e(()=>[s("p",K,[h(" Berikut di bawah ini adalah soal-soal yang belum diberikan jawaban : "),s("span",W,"Ada "+i(l.value.total_skip)+" Soal",1)])]),_:1})])]),_:1}),s("div",Z,[(_(!0),C(j,null,A(u.value,(f,Y)=>(_(),k(v,{key:f.id,class:"outlined-card-item"},{default:e(()=>[s("div",G,[t(p,{align:"center"},{default:e(()=>[s("p",J,i(f.question_number)+" "+i(f.question),1)]),_:2},1024)])]),_:2},1024))),128))])]),_:1}))}},U=z(O,[["__scopeId","data-v-96c9e649"]]),ne={__name:"question-packet-review",setup(c){const l=localStorage.getItem("token"),u=g(null),n=x();return S(async()=>{if(l)try{const o=await m.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});u.value=o.data}catch(o){o.response&&o.response.status===401&&n.push("https://gateway.berkompeten.com/login")}else n.push("https://gateway.berkompeten.com/login")}),(o,w)=>(_(),k(p,{class:"match-height"},{default:e(()=>[t(d,{cols:"12",md:"12"},{default:e(()=>[t(U)]),_:1})]),_:1}))}};export{ne as default};
