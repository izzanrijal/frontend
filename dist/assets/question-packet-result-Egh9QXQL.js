import{a as b,V as S}from"./VGrid-ukUykM_g.js";import{p as N,m as T,k as D,q as F,a0 as L,C as O,d as t,_ as E,f as p,u as q,N as K,g as z,o as f,e as y,w as e,X,b as I,a as s,V as C,t as h,c as A,F as B,h as P,K as G,R as H,S as J}from"./index-CFfQD6KI.js";import{a as i,b as _,V as x,c as v,d as V}from"./VCard-BkM11dtO.js";import{V as U}from"./VChip-BvUHWZCZ.js";import"./VImg-C-Xm8kAh.js";import"./index-CmYAEvk7.js";const W=N({fluid:{type:Boolean,default:!1},...T(),...D()},"VContainer"),Y=F()({name:"VContainer",props:W(),setup(n,c){let{slots:u}=c;const{rtlClasses:o}=L();return O(()=>t(n.tag,{class:["v-container",{"v-container--fluid":n.fluid},o.value,n.class],style:n.style},u)),{}}}),k=n=>(H("data-v-227e21c1"),n=n(),J(),n),Z={class:"me-n3",style:{padding:"20px"}},ee={class:"me-n3",style:{display:"flex","flex-grow":"1",padding:"20px"}},te={style:{color:"#0080ff"}},ae=k(()=>s("p",{style:{color:"black"},class:"font-weight-semibold mb-1"},"Passing grade:",-1)),se=k(()=>s("p",{style:{color:"black"}},[s("b",null,"66")],-1)),oe=k(()=>s("p",{style:{color:"black"},class:"font-weight-semibold mb-1"},"Soal yang dikerjakan:",-1)),le={style:{color:"#0080ff"}},ne=k(()=>s("span",{style:{color:"#0080ff"}},"Analisis & Advice",-1)),re={class:"me-n3",style:{padding:"20px"}},ie={class:"me-n3",style:{padding:"20px"}},ce=k(()=>s("span",{style:{color:"black"}},"List topik/diagnosis yang sebaiknya Anda tingkatkan pada latihan ini",-1)),ue={class:"d-flex align-center flex-wrap mb-3"},de={class:"me-n3",style:{padding:"10px"}},pe={style:{color:"black"},class:"font-weight-semibold mb-1"},fe={__name:"QuestionResult",setup(n){const c=p({}),u=p([]),o=q();K();const d=p({}),w=p([]),R=p([]);p([]);var m=localStorage.getItem("token");z(async()=>{await Q(),await $(),await j()});const Q=async()=>{if(m)try{const a=localStorage.getItem("paket");console.log("question packet id: "+a);const r=await b.get("/api/student/user/test/result?id="+a,{headers:{Authorization:`Bearer ${m}`}});c.value=r.data.data}catch(a){a.response&&a.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),o.push("/login"))}else o.push("/login")},$=async()=>{if(m)try{const a=localStorage.getItem("paket"),r=await b.get(`/api/student/analys/result-by-question-packet-id?question_packet_id=${a}`,{headers:{Authorization:`Bearer ${m}`}});d.value=r.data.data,w.value=Object.entries(r.data.data.advise_learn_by_diagnose).map(([l,g])=>({subtopic:l,...g})),R.value=Object.entries(r.data.data.advise_learn_by_topic).map(([l,g])=>({group_topic:l,subtopics:g}))}catch(a){a.response&&a.response.status===401&&(localStorage.removeItem("token"),o.push("/login"))}},j=async()=>{if(m)try{const a=localStorage.getItem("paket"),r=await b.get("/api/student/user/skip/questions?id="+a,{headers:{Authorization:`Bearer ${m}`}});u.value=r.data.data}catch(a){a.response&&a.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),o.push("/login"))}else o.push("/login")},M=async()=>{if(question_packet_id=localStorage.getItem("paket"),answer===null){errorMessage.value="Tolong pilih jawaban terlebih dahulu";return}if(answerValue===null){errorMessage.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(question_id===null){errorMessage.value="question id is empty. please contact your administrator";return}try{o.push("/dashboard")}catch(a){console.error("answer failed:",a),a.response&&a.response.data?errorMessage.value=a.response.data.errors:errorMessage.value="An unexpected error occurred during login."}};return(a,r)=>(f(),y(Y,null,{default:e(()=>[t(i,null,{default:e(()=>[t(_,{cols:"12"},{default:e(()=>[t(x,{class:"outlined-card-item mb-4"},{default:e(()=>[t(v,{class:"text-left"},{append:e(()=>[t(X,{block:"",type:"submit",onClick:r[0]||(r[0]=l=>M()),color:"#0080ff",class:"responsive-button"},{default:e(()=>[I("Lihat Pembahasan Soal")]),_:1})]),default:e(()=>[s("div",Z,[t(i,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:e(()=>[t(S,{color:"#0080ff",rounded:"",size:"40",class:"elevation-2"},{default:e(()=>[t(C,{size:"32",icon:"ri-apps-line"})]),_:1}),s("div",ee,[t(_,{cols:"12",md:"6"},{default:e(()=>[t(V,null,{default:e(()=>[s("span",te,[s("b",null,"Nilai Anda "+h(c.value.score),1)])]),_:1}),t(i,{align:"left",style:{"justify-content":"flex-start"}},{default:e(()=>[t(_,{cols:"6",sm:"6"},{default:e(()=>[ae,se]),_:1}),t(_,{cols:"6",sm:"6"},{default:e(()=>[oe,s("p",le,h(c.value.total_answered)+" Soal",1)]),_:1})]),_:1})]),_:1})])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(_,{cols:"12"},{default:e(()=>[t(x,{class:"outlined-card-item mb-4"},{default:e(()=>[t(v,null,{default:e(()=>[t(V,null,{default:e(()=>[ne]),_:1}),s("div",re,[t(i,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:e(()=>[t(S,{color:"#0080ff",rounded:"",size:"40",class:"elevation-2"},{default:e(()=>[t(C,{size:"24",icon:"ri-apps-line"})]),_:1}),s("div",ie,[t(V,null,{default:e(()=>[ce]),_:1})])]),_:1})])]),_:1}),t(i,{align:"center",class:"d-flex flex-wrap row-item"},{default:e(()=>[s("div",ue,[(f(!0),A(B,null,P(w.value,(l,g)=>(f(),y(U,{class:"d-flex flex-wrap v-item",color:"#0080ff",size:"small",key:g},{default:e(()=>[I(h(l.subtopic)+" ("+h(l.group_topic)+") ",1)]),_:2},1024))),128))])]),_:1})]),_:1})]),_:1})]),_:1}),u.value.length!==0?(f(),y(i,{key:0},{default:e(()=>[t(_,{cols:"12"},{default:e(()=>[t(x,{class:"outlined-card-item mb-4"},{default:e(()=>[t(v,{style:{"max-block-size":"300px","overflow-y":"auto"}},{default:e(()=>[(f(!0),A(B,null,P(u.value,(l,g)=>(f(),y(v,{key:l.id,class:"outlined-card-item"},{default:e(()=>[s("div",de,[t(i,{align:"center"},{default:e(()=>[s("p",pe,h(l.question_number)+" "+h(l.question),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):G("",!0)]),_:1}))}},_e=E(fe,[["__scopeId","data-v-227e21c1"]]),be={__name:"question-packet-result",setup(n){const c=localStorage.getItem("token"),u=p(null),o=q();return z(async()=>{if(c)try{const d=await b.get("/api/student/profile",{headers:{Authorization:`Bearer ${c}`}});u.value=d.data}catch(d){d.response&&d.response.status===401&&o.push("/login")}else o.push("/login")}),(d,w)=>(f(),y(i,{class:"match-height"},{default:e(()=>[t(_,{cols:"12",md:"12"},{default:e(()=>[t(_e)]),_:1})]),_:1}))}};export{be as default};
