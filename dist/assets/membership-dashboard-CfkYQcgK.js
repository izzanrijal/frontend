import{a as k,V as x}from"./VGrid-C53z0sQC.js";import{_ as B,f as w,u as V,M as D,g as v,o as a,e as m,w as e,d as o,c as p,F as S,W as C,X as M,b as R,J as d,V as N,a as r,t as _,Q as z,R as A}from"./index-Dgfyz0-C.js";import{c as g,V as h,a as I,b as F}from"./VCardItem-CXlaN1M0.js";import{V as y}from"./VCard-CgpuODaH.js";import"./VImg-CQjNe_yd.js";const f=n=>(z("data-v-c75b042c"),n=n(),A(),n),T=f(()=>r("span",{style:{color:"#0080ff"}},"Upgrade Membership",-1)),$={class:"me-n3",style:{padding:"7px"}},P={style:{color:"black"}},q={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},E={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},H={key:0,style:{color:"black"},class:"font-weight-semibold mb-1"},J={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},L=f(()=>r("b",null,"Free",-1)),Q=[L],U={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},W=f(()=>r("b",null,"Current Membership",-1)),X=[W],j={__name:"MembershipDashboard",setup(n){const l=w(null),u=V();D();var i=localStorage.getItem("token");v(async()=>{if(i)try{const s=await k.get("https://gateway.berkompeten.com/api/student/membership",{headers:{Authorization:`Bearer ${i}`}});l.value=s.data.membership,console.log("Membership: ",l)}catch(s){s.response&&s.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),u.push("/login"))}else u.push("/login")});const c=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s),b=s=>s.length>50?s.substring(0,35)+"...":s;return(s,K)=>(a(),m(y,{class:"vcardtext-container"},{default:e(()=>[o(g,null,{default:e(()=>[T]),_:1}),o(h,null,{default:e(()=>[(a(!0),p(S,null,C(l.value,t=>(a(),m(I,{cols:"6",md:"6"},{default:e(()=>[o(y,{class:"mb-4"},{default:e(()=>[o(F,null,{append:e(()=>[t.is_current===!1&&t.is_can_upgrade===!0?(a(),m(M,{key:0,block:"",type:"submit",to:{path:"/membership/detail",query:{id:t.id}},color:t.is_active?"#0080ff":"#cccccc"},{default:e(()=>[R(" View ")]),_:2},1032,["to","color"])):d("",!0),t.is_current===!0?(a(),p("p",U,X)):d("",!0)]),default:e(()=>[o(h,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:e(()=>[o(x,{color:t.is_active?"#0080ff":"#cccccc",rounded:"",size:"38",class:"elevation-2"},{default:e(()=>[o(N,{size:"24",icon:"ri-apps-line"})]),_:2},1032,["color"]),r("div",$,[o(g,null,{default:e(()=>[r("span",P,_(t.name),1)]),_:2},1024),r("p",q," Periode Aktivasi: "+_(t.activation_period)+" Bulan ",1),r("p",E," Deskripsi paket: "+_(b(t.description)),1),t.price!==0?(a(),p("p",H,[r("b",null,"Harga: "+_(c(t.price)),1)])):d("",!0),t.price===0?(a(),p("p",J,Q)):d("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}))}},G=B(j,[["__scopeId","data-v-c75b042c"]]),se={__name:"membership-dashboard",setup(n){const l=localStorage.getItem("token"),u=w(null),i=V();return v(async()=>{if(l)try{const c=await k.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});u.value=c.data}catch(c){c.response&&c.response.status===401&&i.push("/login")}else i.push("/login")}),(c,b)=>(a(),m(h,{class:"match-height"},{default:e(()=>[o(I,{cols:"12",md:"12"},{default:e(()=>[o(G)]),_:1})]),_:1}))}};export{se as default};
