import{a as e}from"./axios-fZjk1EK6.js";import{b as a,V as t,Z as s,l,z as o,W as r,B as i,D as c,v as n,P as d,S as p,O as u,R as m,$ as f,a0 as v}from"./vendor-BrUfZ_qe.js";import{_ as g,V as h,g as b}from"./index-DWDInlzl.js";import{d as y,a as _,b as k,c as w,V as I}from"./VCard-qw0e-7-C.js";import{V as j}from"./VGrid-CbeiMOBg.js";import"./vuetify-BGzDg8SZ.js";import"./VImg-3tLKbNbK.js";const x={style:{color:"#0080ff"}},V={class:"me-n3",style:{padding:"7px"}},z={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},B={style:{color:"#0080ff"},class:"font-weight-semibold mb-1"},D={key:0,style:{color:"black"},class:"font-weight-semibold mb-1"},S={key:1,style:{color:"black"},class:"font-weight-semibold mb-1"},A=[(e=>(f("data-v-c719b89d"),e=e(),v(),e))((()=>d("b",null,"Free",-1)))],$={class:"me-n3",style:{padding:"5px","padding-block-start":"10px"}},F=g({__name:"MembershipDetail",setup(f){const v=a(null),g=t(),F=s();var C=localStorage.getItem("token");l((async()=>{const a=F.query.id;if(C)try{const t=await e.get("https://gateway.berkompeten.id/api/student/master/membership/detail?id="+a,{headers:{Authorization:`Bearer ${C}`}});v.value=t.data.membership}catch(t){t.response&&401===t.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),g.push("/login"))}else g.push("/login")}));return(a,t)=>v.value?(i(),o(I,{key:0,class:"vcardtext-container"},{default:c((()=>[n(y,null,{default:c((()=>[d("span",x,"Membership "+p(v.value.name),1)])),_:1}),n(_,null,{default:c((()=>[n(k,{cols:"12",md:"12"},{default:c((()=>[n(w,null,{default:c((()=>{return[n(j,{color:v.value.is_active?"#0080ff":"#cccccc",rounded:"",size:"38",class:"elevation-2"},{default:c((()=>[n(h,{size:"24",icon:"ri-vip-crown-line"})])),_:1},8,["color"]),d("div",V,[d("p",z," Periode Aktivasi: "+p(v.value.activation_period)+" Bulan ",1),d("p",B," Deskripsi paket: "+p((s=v.value.description,s.length>50?s.substring(0,35)+"...":s)),1),0!==v.value.price?(i(),u("p",D,[d("b",null,"Harga: "+p((a=v.value.price,new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a))),1)])):r("",!0),0===v.value.price?(i(),u("p",S,A)):r("",!0)]),d("div",$,[!1===v.value.is_current&&!0===v.value.is_can_upgrade?(i(),o(b,{key:0,block:"",type:"submit",onClick:t[0]||(t[0]=a=>(async a=>{try{const t=(await e.post("https://gateway.berkompeten.id/api/student/create-bill-payment",{id:a},{headers:{Authorization:`Bearer ${C}`}})).data.data.link_url;window.location.href="https://"+t}catch(t){}})(v.value.id)),color:v.value.is_active?"#0080ff":"#cccccc"},{default:c((()=>[m(" Langganan ")])),_:1},8,["color"])):r("",!0)])];var a,s})),_:1})])),_:1})])),_:1})])),_:1})):r("",!0)}},[["__scopeId","data-v-c719b89d"]]),C={__name:"membership-template-detail",setup(s){const r=localStorage.getItem("token"),d=a(null),p=t();return l((async()=>{if(r)try{const a=await e.get("https://gateway.berkompeten.id/api/student/profile",{headers:{Authorization:`Bearer ${r}`}});d.value=a.data}catch(a){a.response&&401===a.response.status&&p.push("/login")}else p.push("/login")})),(e,a)=>(i(),o(_,{class:"match-height"},{default:c((()=>[n(k,{cols:"12",md:"12"},{default:c((()=>[n(F)])),_:1})])),_:1}))}};export{C as default};
