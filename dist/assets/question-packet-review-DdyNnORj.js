import{a as f}from"./VGrid-C_E-gwuo.js";import{_ as z,f as _,u as x,M as A,g as S,o as m,e as k,w as e,d as t,H as Q,a,t as i,X as y,b as h,c as R,F as j,W as C,Q as M,R as P}from"./index-COpfi4IP.js";import{b as v,c as q,V as d,a as p}from"./VCardItem-BABBhT-i.js";import{V as $}from"./VImg-B7D_bgF0.js";import{V as D}from"./VCard-B8THmLjO.js";const T="/assets/review-DBMVeA3p.png",b=c=>(M("data-v-fc38f6f5"),c=c(),P(),c),N=b(()=>a("span",{style:{color:"#0080ff","font-size":"larger"}},[a("b",null,"Review kembali hasil pengerjaan test Anda")],-1)),F={class:"me-n3",style:{padding:"20px"}},L=b(()=>a("p",{style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"}," Soal yang telah dikerjakan: ",-1)),E={style:{color:"#0080ff","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},H=b(()=>a("p",{style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"}," Soal yang belum dikerjakan: ",-1)),K={style:{color:"red","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},W={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},X={style:{color:"#0080ff"}},G={style:{"max-block-size":"300px","overflow-y":"auto"}},J={class:"me-n3",style:{padding:"10px"}},O={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},U={__name:"QuestionReview",setup(c){const n=_({}),u=_([]),l=x();A(),_([]);var o=localStorage.getItem("token");S(async()=>{await w(),await I()});const w=async()=>{if(o)try{const s=localStorage.getItem("paket"),r=await f.get("https://gateway.berkompeten.com/api/student/user/test/review?id="+s,{headers:{Authorization:`Bearer ${o}`}});n.value=r.data.data}catch(s){s.response&&s.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),l.push("/login"))}else l.push("/login")},I=async()=>{if(o)try{const s=localStorage.getItem("paket"),r=await f.get("https://gateway.berkompeten.com/api/student/user/skip/questions?id="+s,{headers:{Authorization:`Bearer ${o}`}});u.value=r.data.data}catch(s){s.response&&s.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),l.push("/login"))}else l.push("/login")},V=()=>{l.push("/soal")},B=async()=>{const s=localStorage.getItem("paket");try{console.log("paket id: ",s);const r=await f.post("https://gateway.berkompeten.com/api/student/user/finish-the-test",{question_packet_id:s},{headers:{Authorization:`Bearer ${o}`}});l.push("/result")}catch(r){console.error("answer failed:",r),r.response&&r.response.data?errorMessage.value=r.response.data.errors:errorMessage.value="An unexpected error occurred during login."}};return(s,r)=>(m(),k(D,null,{default:e(()=>[t(v,{class:"text-center"},{default:e(()=>[t($,{src:Q(T),style:{"block-size":"150px","inline-size":"150px"},class:"mx-auto"},null,8,["src"]),t(q,null,{default:e(()=>[N]),_:1}),a("div",F,[t(d,{align:"center"},{default:e(()=>[t(p,{cols:"6",md:"6"},{default:e(()=>[L,a("p",E,i(n.value.total_answered),1)]),_:1}),t(p,{cols:"6",md:"6"},{default:e(()=>[H,a("p",K,i(n.value.total_skip),1)]),_:1})]),_:1}),t(d,{class:"justify-center"},{default:e(()=>[t(p,{cols:"6",class:"mb-1"},{default:e(()=>[t(y,{onClick:B,color:"#0080ff",block:""},{default:e(()=>[h("Selesaikan Tes")]),_:1})]),_:1}),t(p,{cols:"6",class:"mb-1"},{default:e(()=>[t(y,{onClick:V,color:"#0080ff",variant:"outlined",block:""},{default:e(()=>[h(" Kembali Mengerjakan ")]),_:1})]),_:1})]),_:1}),t(d,{class:"d-flex flex-wrap justify-center"},{default:e(()=>[a("p",W,[h(" Berikut di bawah ini adalah soal-soal yang belum diberikan jawaban : "),a("span",X,"Ada "+i(n.value.total_skip)+" Soal",1)])]),_:1})])]),_:1}),a("div",G,[(m(!0),R(j,null,C(u.value,(g,Z)=>(m(),k(v,{key:g.id,class:"outlined-card-item"},{default:e(()=>[a("div",J,[t(d,{align:"center"},{default:e(()=>[a("p",O,i(g.question_number)+" "+i(g.question),1)]),_:2},1024)])]),_:2},1024))),128))])]),_:1}))}},Y=z(U,[["__scopeId","data-v-fc38f6f5"]]),re={__name:"question-packet-review",setup(c){const n=localStorage.getItem("token"),u=_(null),l=x();return S(async()=>{if(n)try{const o=await f.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${n}`}});u.value=o.data}catch(o){o.response&&o.response.status===401&&l.push("/login")}else l.push("/login")}),(o,w)=>(m(),k(d,{class:"match-height"},{default:e(()=>[t(p,{cols:"12",md:"12"},{default:e(()=>[t(Y)]),_:1})]),_:1}))}};export{re as default};
