import{_ as D,f as w,u as V,g as C,Y as W,Z as q,o as s,e as i,w as a,d as o,c,F as b,W as v,X as x,b as k,J as l,$ as L,V as M,a as g,t as m}from"./index-DTnuAm3S.js";import{a as S,V as N}from"./VGrid-Chr5X5iM.js";import{a as _,b as B,V as y,c as A,d as E}from"./VCard-e28wK88o.js";import{V as F}from"./VChip-DpDDBdgk.js";import"./VImg-C8Ao1EuT.js";import"./index-D5O9hKo0.js";const T={class:"title-container",style:{padding:"20px"}},P={style:{color:"black"}},Q={key:0,class:"status-text font-weight-semibold mb-1"},R={key:1,class:"status-text-start font-weight-semibold mb-1"},J=["onClick"],K={class:"d-flex align-center flex-wrap mb-3"},U={__name:"QuestionDashboard",setup(I){const d=w([]),r=V(),u=w(window.innerWidth);var n=localStorage.getItem("token");C(async()=>{if(n)try{const t=await S.get("https://gateway.berkompeten.com/api/student/question-packet",{headers:{Authorization:`Bearer ${n}`}});d.value=t.data.data}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),r.push("/login"))}else r.push("/login");window.addEventListener("resize",f)}),W(()=>{window.removeEventListener("resize",f)});const f=()=>{u.value=window.innerWidth},h=t=>{localStorage.setItem("paket",t),r.push("/detail")},z=()=>{r.push("/upgrade/membership")},$=q(()=>u.value<768),j=t=>$.value?t.slice(0,3):t;return(t,Y)=>(s(),i(y,{class:"vcardtext-container"},{default:a(()=>[o(_,null,{default:a(()=>[(s(!0),c(b,null,v(d.value,e=>(s(),i(B,{cols:"12",md:"6",key:e.id,class:"question-card"},{default:a(()=>[o(y,{class:"mb-4"},{default:a(()=>[o(A,null,{append:a(()=>[e.is_accessed===!0&&e.is_done===!1&&e.answer===0?(s(),i(x,{key:0,block:"",type:"submit",onClick:p=>h(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:a(()=>[k(" Kerjakan Sekarang ")]),_:2},1032,["onClick","color"])):l("",!0),e.is_accessed===!0&&e.is_done===!1&&e.answer>0&&e.start_date!==null&&e.finish_date===null?(s(),i(x,{key:1,block:"",type:"submit",onClick:p=>h(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:a(()=>[k(" Lanjutkan ")]),_:2},1032,["onClick","color"])):l("",!0),e.is_done===!0?(s(),c("a",{key:2,href:"javascript:void(0);",style:{color:"#0080ff","font-weight":"bold","text-decoration":"underline"},onClick:L(p=>h(e.id),["prevent"])}," Detail & Pembahasan ",8,J)):l("",!0)]),default:a(()=>[o(_,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:a(()=>[o(N,{color:e.is_accessed?"#0080ff":"#cccccc",rounded:"",size:"40",class:"elevation-2 avatar-icon"},{default:a(()=>[o(M,{size:"24",icon:"ri-apps-line",class:"icon"})]),_:2},1032,["color"]),g("div",T,[o(E,null,{default:a(()=>[g("span",P,m(e.title),1)]),_:2},1024),e.is_accessed===!0&&e.is_done===!1&&e.answer===0?(s(),c("p",Q," Belum dikerjakan ")):l("",!0),e.is_accessed===!0&&e.is_done===!1&&e.answer>0&&e.start_date!==null&&e.finish_date===null?(s(),c("p",R," Mulai dikerjakan: "+m(e.start_date),1)):l("",!0),e.is_accessed===!1?(s(),c("a",{key:2,class:"upgrade-link",onClick:z},"Silahkan upgrade membership untuk melanjutkan")):l("",!0)])]),_:2},1024)]),_:2},1024),o(_,{align:"center",class:"d-flex flex-wrap row-item"},{default:a(()=>[g("div",K,[(s(!0),c(b,null,v(j(e.topics),p=>(s(),i(F,{class:"d-flex flex-wrap v-item",color:e.is_accessed?"#0080ff":"#cccccc",size:"small",key:p},{default:a(()=>[k(m(p),1)]),_:2},1032,["color"]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}},X=D(U,[["__scopeId","data-v-b7f12721"]]),se={__name:"question-packet-dashboard",setup(I){const d=localStorage.getItem("token"),r=w(null),u=V();return C(async()=>{if(d)try{const n=await S.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${d}`}});r.value=n.data}catch(n){n.response&&n.response.status===401&&u.push("/login")}else u.push("/login")}),(n,f)=>(s(),i(_,{class:"match-height"},{default:a(()=>[o(B,{cols:"12",md:"12"},{default:a(()=>[o(X)]),_:1})]),_:1}))}};export{se as default};
