import{p as J,l as K,$ as me,f as m,a0 as be,N as oe,a1 as F,Z as G,G as z,B as X,d as e,a2 as we,a3 as he,a4 as ke,I as le,a5 as ye,a6 as Ve,F as T,_ as Z,u as W,M as ee,g as j,a7 as ve,o as w,e as C,w as a,a as I,t as $,J as Q,c as R,W as N,n as H,b as A,X as D,Q as pe,R as fe,Y as Ie,D as Se,E as xe,H as E}from"./index-B6kub9zT.js";import{a as O}from"./VGrid-CKBodZyh.js";import{c as L,d as M,a as x,b as y,V as U,e as Y,f as qe}from"./VCard-BOTsumqx.js";import{V as se}from"./VImg-CMAkEoPT.js";import{m as Pe,V as ne,a as Ce}from"./VInput-lW8VxFqe.js";import{m as $e,V as ge,a as Re,b as Ae}from"./VSelectionControl-BkzLPuTc.js";import{m as Be,V as De,u as Ee,a as re}from"./VOverlay-BSryB94a.js";import{f as Te}from"./forwardRefs-DWGaNmQL.js";import{V as ue}from"./VDivider-Tq8tN6-S.js";import"./index-BFBh6RN0.js";import"./lazy-o-PUH00I.js";const ze=J({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Be({origin:"center center",scrollStrategy:"block",transition:{component:De},zIndex:2400})},"VDialog"),Oe=K()({name:"VDialog",props:ze(),emits:{"update:modelValue":t=>!0},setup(t,n){let{slots:v}=n;const d=me(t,"modelValue"),{scopeId:r}=Ee(),u=m();function l(p){var c,b;const f=p.relatedTarget,i=p.target;if(f!==i&&((c=u.value)!=null&&c.contentEl)&&((b=u.value)!=null&&b.globalTop)&&![document,u.value.contentEl].includes(i)&&!u.value.contentEl.contains(i)){const h=he(u.value.contentEl);if(!h.length)return;const q=h[0],S=h[h.length-1];f===q?S.focus():q.focus()}}be&&oe(()=>d.value&&t.retainFocus,p=>{p?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),oe(d,async p=>{var f,i;await F(),p?(f=u.value.contentEl)==null||f.focus({preventScroll:!0}):(i=u.value.activatorEl)==null||i.focus({preventScroll:!0})});const g=G(()=>z({"aria-haspopup":"dialog","aria-expanded":String(d.value)},t.activatorProps));return X(()=>{const p=re.filterProps(t);return e(re,z({ref:u,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},p,{modelValue:d.value,"onUpdate:modelValue":f=>d.value=f,"aria-modal":"true",activatorProps:g.value,role:"dialog"},r),{activator:v.activator,default:function(){for(var f=arguments.length,i=new Array(f),c=0;c<f;c++)i[c]=arguments[c];return e(we,{root:"VDialog"},{default:()=>{var b;return[(b=v.default)==null?void 0:b.call(v,...i)]}})}})}),Te({},u)}}),Qe=J({...$e({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ie=K()({name:"VRadio",props:Qe(),setup(t,n){let{slots:v}=n;return X(()=>e(ge,z(t,{class:["v-radio",t.class],style:t.style,type:"radio"}),v)),{}}}),Ne=J({height:{type:[Number,String],default:"auto"},...Pe(),...ke(Re(),["multiple"]),trueIcon:{type:le,default:"$radioOn"},falseIcon:{type:le,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ce=K()({name:"VRadioGroup",inheritAttrs:!1,props:Ne(),emits:{"update:modelValue":t=>!0},setup(t,n){let{attrs:v,slots:d}=n;const r=ye(),u=G(()=>t.id||`radio-group-${r}`),l=me(t,"modelValue");return X(()=>{const[g,p]=Ve(v),f=ne.filterProps(t),i=ge.filterProps(t),c=d.label?d.label({label:t.label,props:{for:u.value}}):t.label;return e(ne,z({class:["v-radio-group",t.class],style:t.style},g,f,{modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,id:u.value}),{...d,default:b=>{let{id:h,messagesId:q,isDisabled:S,isReadonly:B}=b;return e(T,null,[c&&e(Ce,{id:h.value},{default:()=>[c]}),e(Ae,z(i,{id:h.value,"aria-describedby":q.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:S.value,readonly:B.value,"aria-labelledby":c?h.value:void 0,multiple:!1},p,{modelValue:l.value,"onUpdate:modelValue":_=>l.value=_}),d)])}})}),{}}}),Le=t=>(pe("data-v-53f6ff8d"),t=t(),fe(),t),Ue={style:{color:"#0080ff"}},Ge={style:{color:"black"},class:"font-weight-semibold mb-1"},We={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},je={class:"me-n3",style:{padding:"20px"}},Fe=Le(()=>I("span",{style:{color:"#0080ff"}},"Seberapa yakin jawaban anda?",-1)),He={class:"me-n3",style:{padding:"20px"}},Me={__name:"Question",setup(t){const n=m({}),v=m(null),d=m(null),r=m("question"),u=W();ee();const l=m([]);var g=localStorage.getItem("token");const p=m(!1);j(async()=>{ve.on("refreshQuestion",_=>{console.log("run emit trigger: ",_.number),i.value=null,c.value=null,f()}),await f()});const f=async()=>{if(g)try{const _=localStorage.getItem("paket"),s=localStorage.getItem("number"),o=await O.get("https://gateway.berkompeten.com/api/student/question?id="+_+"&number="+s,{headers:{Authorization:`Bearer ${g}`}});n.value=o.data.data,localStorage.setItem("question_id",o.data.data.id);const k={label:o.data.data.option_a,value:"A"},P={label:o.data.data.option_b,value:"B"},V={label:o.data.data.option_c,value:"C"},ae={label:o.data.data.option_d,value:"D"},_e={label:o.data.data.option_e,value:"E"};if(l.value=[k,P,V,ae,_e],n.value.student_answer&&(i.value=n.value.student_answer,localStorage.setItem("answer",i.value)),n.value.student_answer_value&&(c.value=n.value.student_answer_value,localStorage.setItem("answerValue",c.value)),r.value==="review"){const te=await O.post("https://gateway.berkompeten.com/api/student/user/review-answer",{question_packet_id:_,number:s},{headers:{Authorization:`Bearer ${g}`}});v.value=te.data.data.correct_answer,d.value=te.data.data.user_answer,i.value=d.value}}catch(_){_.response&&_.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),u.push("/login"))}else u.push("/login")},i=m(null),c=m(null),b=[{label:"Sangat Yakin",value:"yakin",color:"green"},{label:"Masih Ragu",value:"ragu",color:"orange"},{label:"Saya tidak tahu untuk jawaban soal ini",value:"tidak tahu",color:"red"}],h=()=>{console.log("selected option: ",i.value),localStorage.setItem("answer",i.value)},q=()=>{console.log("selected option yakin: ",c.value),localStorage.setItem("answerValue",c.value)},S=_=>_===v.value,B=_=>_===d.value&&_!==v.value;return(_,s)=>(w(),C(U,null,{default:a(()=>[e(L,{class:"outlined-card-item"},{default:a(()=>[e(M,null,{default:a(()=>[I("span",Ue,$(n.value.question_number),1)]),_:1}),n.value.image_url!=""?(w(),C(se,{key:0,src:n.value.image_url,style:{"block-size":"350px",cursor:"pointer","inline-size":"350px"},onClick:s[0]||(s[0]=o=>p.value=!0)},null,8,["src"])):Q("",!0),I("p",Ge,$(n.value.scenario),1),I("p",We,$(n.value.question),1),I("div",je,[e(x,{align:"center"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(ce,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=o=>i.value=o),class:"mb-2",onChange:h,disabled:r.value==="review"},{default:a(()=>[(w(!0),R(T,null,N(l.value,(o,k)=>(w(),C(ie,{key:k,label:o.label,value:o.value,class:H({"correct-answer":S(o.value),"wrong-answer":B(o.value)})},null,8,["label","value","class"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})])]),_:1}),r.value==="question"?(w(),C(L,{key:0,class:"outlined-card-item"},{default:a(()=>[e(M,null,{default:a(()=>[Fe]),_:1}),I("div",He,[e(x,{align:"center"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(ce,{modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=o=>c.value=o),class:"mb-2",onChange:q},{default:a(()=>[(w(),R(T,null,N(b,(o,k)=>e(ie,{key:k,value:o.value,class:"custom-radio"},{label:a(()=>[I("span",{class:H(["custom-circle",o.color])},null,2),A(" "+$(o.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1})):Q("",!0),e(Oe,{modelValue:p.value,"onUpdate:modelValue":s[4]||(s[4]=o=>p.value=o),"max-width":"600px"},{default:a(()=>[e(U,null,{default:a(()=>[e(Y,null,{default:a(()=>[n.value.image_url!==""?(w(),C(se,{key:0,src:n.value.image_url,style:{"max-inline-size":"100%"}},null,8,["src"])):Q("",!0)]),_:1}),e(qe,null,{default:a(()=>[e(D,{color:"primary",text:"",onClick:s[3]||(s[3]=o=>p.value=!1)},{default:a(()=>[A("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ye=Z(Me,[["__scopeId","data-v-53f6ff8d"]]),Je={__name:"QuestionHeader",setup(t){const n=W();var v=localStorage.getItem("token");const d=m(window.innerWidth);j(async()=>{if(window.addEventListener("resize",r),r(),v){console.log("question packet detail run: ");try{const l=localStorage.getItem("paket");console.log("question packet detail id: ",l);const g=await axios.get("https://gateway.berkompeten.com/api/student/question-packet/detail?id="+l,{headers:{Authorization:`Bearer ${v}`}});console.log("question packet detail resp: ",g.data.data),questionsPacket.value=g.data.data,console.log("question packet detail: ",questionsPacket)}catch(l){l.response&&l.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),n.push("/login"))}}else n.push("/login")}),Ie(()=>{window.removeEventListener("resize",r)});const r=()=>{d.value=window.innerWidth},u=async()=>{try{n.push("/review")}catch(l){console.error("review failed:",l)}};return(l,g)=>(w(),C(U,null,{default:a(()=>[e(x,{class:"match-height"},{default:a(()=>[Se(e(y,{cols:"12",md:"3"},null,512),[[xe,E(d)>=768]]),e(y,{cols:"12",md:"9"},{default:a(()=>[e(L,null,{append:a(()=>[e(x,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"7"},{default:a(()=>[e(D,{block:"",type:"submit",to:"/lab-values",color:"#0080ff",variant:"outlined"},{default:a(()=>[A(" Nilai Normal Laboratorium ")]),_:1})]),_:1}),e(y,{cols:"12",md:"5"},{default:a(()=>[e(D,{block:"",type:"submit",onClick:u,color:"#0080ff"},{default:a(()=>[A(" Selesaikan Test ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Ke=Z(Je,[["__scopeId","data-v-7bbdcefc"]]),Xe=t=>(pe("data-v-01116c3e"),t=t(),fe(),t),Ze=Xe(()=>I("span",{style:{color:"#0080ff"}},"Soal Dikerjakan",-1)),ea={class:"font-weight-semibold mb-1"},aa={style:{color:"#0080ff"}},ta={class:"d-sm-block"},oa={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},de=5,la={__name:"QuestionOrder",setup(t){const n=m([]),v=W();ee();const d=m(null),r=m(null);var u=localStorage.getItem("token");const l=m(null);j(async()=>{await h(),await F(),_()});var g=m(null),p=m(null);m(null),m(null);var f=m(null),i=m(null),c=m(0),b=m(0);const h=async()=>{if(u)try{d.value=localStorage.getItem("paket"),r.value=localStorage.getItem("number");const o=(await O.get("https://gateway.berkompeten.com/api/student/questions/orders?id="+d.value,{headers:{Authorization:`Bearer ${u}`}})).data.question_numbers;b.value=0,o.forEach(k=>{k.is_fill&&b.value++}),console.log("Total Answered: ",b.value),c=o.length,console.log("question length: ",o.length),n.value=G(()=>{const k=[];for(let P=0;P<o.length;P+=de)k.push(o.slice(P,P+de));return console.log("result: ",k),k}),console.log("GROUP BUT: ",n)}catch(s){s.response&&s.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),v.push("/login"))}else v.push("/login")},q=async()=>{if(r.value!=1){console.log("previous without answer: ",+r.value-1),S(+r.value-1);return}},S=async s=>{localStorage.setItem("number",s),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),await h(),await F(),_(),ve.emit("refreshQuestion",{number:s})},B=async()=>{if(g=localStorage.getItem("answer"),p=localStorage.getItem("answerValue"),f=localStorage.getItem("paket"),i=localStorage.getItem("question_id"),g===null&&r.value!=c){console.log("next without answer: ",+r.value+1),S(+r.value+1);return}if(p===null){l.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(i===null){l.value="question id is empty. please contact your administrator";return}try{console.log("paket id: ",f),console.log("ques id: ",i),console.log("answer: ",g),console.log("answer val: ",p);const s=await O.post("https://gateway.berkompeten.com/api/student/user/answer/add",{question_packet_id:f,question_id:i,answer:g,answer_value:p},{headers:{Authorization:`Bearer ${u}`}});console.log("answer submit: ",g),console.log("answer val submit: ",p),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),r.value==c&&v.push("/review"),B()}catch(s){console.error("answer failed:",s),s.response&&s.response.data?l.value=s.response.data.errors:l.value="An unexpected error occurred during login."}},_=()=>{const s=document.querySelector(".vcardtext-container"),o=document.querySelector(".v-btn.custom-btn.active");s&&o&&(s.scrollTop=o.offsetTop-s.offsetTop-s.clientHeight/2+o.clientHeight/2)};return(s,o)=>(w(),C(U,null,{default:a(()=>[e(x,{"no-gutters":""},{default:a(()=>[e(y,{md:"12"},{default:a(()=>[e(L,null,{append:a(()=>[I("p",ea,[I("span",aa,$(E(b)),1),A(" / "+$(E(c)),1)])]),default:a(()=>[e(M,null,{default:a(()=>[Ze]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:a(()=>[(w(!0),R(T,null,N(n.value.value,(k,P)=>(w(),C(x,{key:P,class:"row-item"},{default:a(()=>[(w(!0),R(T,null,N(k,V=>(w(),R("div",{key:V.number,class:"d-flex flex-wrap v-item"},[e(D,{color:r.value===V.number?"primary":V.is_fill?V.color:"",variant:V.is_fill?"tonal":"outlined",class:H(["mb-1 custom-btn",{active:r.value===V.number}]),style:{"block-size":"40px","inline-size":"40px"},onClick:ae=>S(V.number),ref_for:!0,ref:"button-"+V.number},{default:a(()=>[I("span",ta,$(V.number),1)]),_:2},1032,["color","variant","class","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:a(()=>[l.value?(w(),R("div",oa,$(l.value),1)):Q("",!0),e(x,{class:"d-flex flex-wrap"},{default:a(()=>[e(y,{cols:"6",class:"mb-1"},{default:a(()=>[e(D,{onClick:q,color:"#0080ff",variant:"outlined",disabled:r.value==1},{default:a(()=>[A("Kembali")]),_:1},8,["disabled"])]),_:1}),e(y,{cols:"6",class:"mb-1"},{default:a(()=>[e(D,{onClick:B,color:"#0080ff"},{default:a(()=>[A("Selanjutnya")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},sa=Z(la,[["__scopeId","data-v-01116c3e"]]),_a={__name:"question-packet",setup(t){const n=localStorage.getItem("token"),v=m(null),d=W(),r=ee(),u=G(()=>r.path==="/soal-review"?"review":"question");return j(async()=>{if(n)try{const l=await O.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${n}`}});v.value=l.data}catch(l){l.response&&l.response.status===401&&d.push("/login")}else d.push("/login")}),(l,g)=>(w(),R(T,null,[e(x,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(Ke,{mode:E(u)},null,8,["mode"])]),_:1})]),_:1}),e(x,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"9"},{default:a(()=>[e(Ye,{mode:E(u)},null,8,["mode"])]),_:1}),e(y,{cols:"12",md:"3"},{default:a(()=>[e(sa,{mode:E(u)},null,8,["mode"])]),_:1})]),_:1})],64))}};export{_a as default};
