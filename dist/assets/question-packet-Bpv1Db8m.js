import{p as J,l as K,a0 as me,f as v,a1 as be,N as oe,a2 as H,Z as W,G as N,B as X,d as e,a3 as we,a4 as he,a5 as ke,I as le,a6 as ye,a7 as Ve,F as D,_ as Z,u as j,M as ee,g as F,a8 as ve,o as b,e as q,w as a,a as I,t as x,J as z,c as A,W as O,n as U,b as B,X as E,Q as fe,R as pe,Y as Se,D as Ie,E as xe,H as T}from"./index-Cn92fcGa.js";import{a as L}from"./VGrid-CLCkouzi.js";import{c as Q,d as M,a as C,b as y,f as qe,V as G,e as Y,g as Ce}from"./VCard-DZ1Tkb7T.js";import{V as se}from"./VImg-mrruLa6G.js";import{m as Pe,V as ne,a as $e}from"./VInput-CgJ36rXX.js";import{m as Re,V as ge,a as Ae,b as Be}from"./VSelectionControl-Tv9oQrcw.js";import{m as De,V as Ee,u as Te,a as re}from"./VOverlay-Dz-peOmt.js";import{f as ze}from"./forwardRefs-DWGaNmQL.js";import{V as ue}from"./VDivider-S6o9_qn-.js";import"./index-CLf0zNLL.js";import"./lazy-Bj5npV5w.js";const Oe=J({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...De({origin:"center center",scrollStrategy:"block",transition:{component:Ee},zIndex:2400})},"VDialog"),Qe=K()({name:"VDialog",props:Oe(),emits:{"update:modelValue":t=>!0},setup(t,n){let{slots:m}=n;const c=me(t,"modelValue"),{scopeId:i}=Te(),r=v();function l(g){var d,w;const _=g.relatedTarget,u=g.target;if(_!==u&&((d=r.value)!=null&&d.contentEl)&&((w=r.value)!=null&&w.globalTop)&&![document,r.value.contentEl].includes(u)&&!r.value.contentEl.contains(u)){const k=he(r.value.contentEl);if(!k.length)return;const P=k[0],V=k[k.length-1];_===P?V.focus():P.focus()}}be&&oe(()=>c.value&&t.retainFocus,g=>{g?document.addEventListener("focusin",l):document.removeEventListener("focusin",l)},{immediate:!0}),oe(c,async g=>{var _,u;await H(),g?(_=r.value.contentEl)==null||_.focus({preventScroll:!0}):(u=r.value.activatorEl)==null||u.focus({preventScroll:!0})});const p=W(()=>N({"aria-haspopup":"dialog","aria-expanded":String(c.value)},t.activatorProps));return X(()=>{const g=re.filterProps(t);return e(re,N({ref:r,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},g,{modelValue:c.value,"onUpdate:modelValue":_=>c.value=_,"aria-modal":"true",activatorProps:p.value,role:"dialog"},i),{activator:m.activator,default:function(){for(var _=arguments.length,u=new Array(_),d=0;d<_;d++)u[d]=arguments[d];return e(we,{root:"VDialog"},{default:()=>{var w;return[(w=m.default)==null?void 0:w.call(m,...u)]}})}})}),ze({},r)}}),Ne=J({...Re({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ce=K()({name:"VRadio",props:Ne(),setup(t,n){let{slots:m}=n;return X(()=>e(ge,N(t,{class:["v-radio",t.class],style:t.style,type:"radio"}),m)),{}}}),Le=J({height:{type:[Number,String],default:"auto"},...Pe(),...ke(Ae(),["multiple"]),trueIcon:{type:le,default:"$radioOn"},falseIcon:{type:le,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ie=K()({name:"VRadioGroup",inheritAttrs:!1,props:Le(),emits:{"update:modelValue":t=>!0},setup(t,n){let{attrs:m,slots:c}=n;const i=ye(),r=W(()=>t.id||`radio-group-${i}`),l=me(t,"modelValue");return X(()=>{const[p,g]=Ve(m),_=ne.filterProps(t),u=ge.filterProps(t),d=c.label?c.label({label:t.label,props:{for:r.value}}):t.label;return e(ne,N({class:["v-radio-group",t.class],style:t.style},p,_,{modelValue:l.value,"onUpdate:modelValue":w=>l.value=w,id:r.value}),{...c,default:w=>{let{id:k,messagesId:P,isDisabled:V,isReadonly:$}=w;return e(D,null,[d&&e($e,{id:k.value},{default:()=>[d]}),e(Be,N(u,{id:k.value,"aria-describedby":P.value,defaultsTarget:"VRadio",trueIcon:t.trueIcon,falseIcon:t.falseIcon,type:t.type,disabled:V.value,readonly:$.value,"aria-labelledby":d?k.value:void 0,multiple:!1},g,{modelValue:l.value,"onUpdate:modelValue":f=>l.value=f}),c)])}})}),{}}}),Ue=t=>(fe("data-v-7f9227e9"),t=t(),pe(),t),Ge={style:{color:"#0080ff"}},We={style:{color:"black"},class:"font-weight-semibold mb-1"},je={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},Fe={class:"me-n3",style:{padding:"20px"}},He=Ue(()=>I("span",{style:{color:"#0080ff"}},"Seberapa yakin jawaban anda?",-1)),Me={class:"me-n3",style:{padding:"20px"}},Ye={__name:"Question",props:{mode:String},setup(t){const n=v({}),m=v(null),c=v(null),i=j();ee();const r=v([]);var l=localStorage.getItem("token");const p=v(!1),g=t;F(async()=>{ve.on("refreshQuestion",f=>{console.log("run emit trigger: ",f.number),u.value=null,d.value=null,_()}),await _()});const _=async()=>{if(l)try{const f=localStorage.getItem("paket"),s=localStorage.getItem("number"),o=await L.get("https://gateway.berkompeten.com/api/student/question?id="+f+"&number="+s,{headers:{Authorization:`Bearer ${l}`}});n.value=o.data.data,localStorage.setItem("question_id",o.data.data.id);const h={label:o.data.data.option_a,value:"A"},R={label:o.data.data.option_b,value:"B"},S={label:o.data.data.option_c,value:"C"},ae={label:o.data.data.option_d,value:"D"},_e={label:o.data.data.option_e,value:"E"};if(r.value=[h,R,S,ae,_e],n.value.student_answer&&(u.value=n.value.student_answer,localStorage.setItem("answer",u.value)),n.value.student_answer_value&&(d.value=n.value.student_answer_value,localStorage.setItem("answerValue",d.value)),console.log("mode: ",g.mode),g.mode==="review"){console.log("run mode review");const te=await L.post("https://gateway.berkompeten.com/api/student/user/review-answer",{question_packet_id:f,number:s},{headers:{Authorization:`Bearer ${l}`}});m.value=te.data.data.correct_answer,c.value=te.data.data.user_answer,u.value=c.value}}catch(f){f.response&&f.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),i.push("/login"))}else i.push("/login")},u=v(null),d=v(null),w=[{label:"Sangat Yakin",value:"yakin",color:"green"},{label:"Masih Ragu",value:"ragu",color:"orange"},{label:"Saya tidak tahu untuk jawaban soal ini",value:"tidak tahu",color:"red"}],k=()=>{console.log("selected option: ",u.value),localStorage.setItem("answer",u.value)},P=()=>{console.log("selected option yakin: ",d.value),localStorage.setItem("answerValue",d.value)},V=f=>(console.log("val: ",f),console.log("correct answer: ",m.value),f===m.value),$=f=>(console.log("val: ",f),console.log("user answer: ",c.value),f===c.value&&f!==m.value);return(f,s)=>(b(),q(G,null,{default:a(()=>[e(Q,{class:"outlined-card-item"},{default:a(()=>[e(M,null,{default:a(()=>[I("span",Ge,x(n.value.question_number),1)]),_:1}),n.value.image_url!=""?(b(),q(se,{key:0,src:n.value.image_url,style:{"block-size":"350px",cursor:"pointer","inline-size":"350px"},onClick:s[0]||(s[0]=o=>p.value=!0)},null,8,["src"])):z("",!0),I("p",We,x(n.value.scenario),1),I("p",je,x(n.value.question),1),I("div",Fe,[e(C,{align:"center"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[t.mode==="review"?(b(!0),A(D,{key:0},O(r.value,(o,h)=>(b(),q(Q,{class:U({"correct-answer":V(o.value),"wrong-answer":$(o.value)})},{default:a(()=>[e(qe,{class:"wrap-text"},{default:a(()=>[B(x(o.value)+". "+x(o.label),1)]),_:2},1024)]),_:2},1032,["class"]))),256)):z("",!0),t.mode==="question"?(b(),q(ie,{key:1,modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=o=>u.value=o),class:"mb-2",onChange:k,disabled:t.mode==="review"},{default:a(()=>[(b(!0),A(D,null,O(r.value,(o,h)=>(b(),q(ce,{key:h,label:o.label,value:o.value,color:V(o.value)?"green":$(o.value)?"red":"default",class:U({"correct-answer":V(o.value),"wrong-answer":$(o.value)}),disabled:t.mode==="review"},null,8,["label","value","color","class","disabled"]))),128))]),_:1},8,["modelValue","disabled"])):z("",!0)]),_:1})]),_:1})])]),_:1}),e(Q,{class:"outlined-card-item"},{default:a(()=>[e(M,null,{default:a(()=>[He]),_:1}),I("div",Me,[e(C,{align:"center"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(ie,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=o=>d.value=o),class:"mb-2",onChange:P},{default:a(()=>[(b(),A(D,null,O(w,(o,h)=>e(ce,{key:h,value:o.value,class:"custom-radio",disabled:t.mode==="review"},{label:a(()=>[I("span",{class:U(["custom-circle",o.color])},null,2),B(" "+x(o.label),1)]),_:2},1032,["value","disabled"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),e(Qe,{modelValue:p.value,"onUpdate:modelValue":s[4]||(s[4]=o=>p.value=o),"max-width":"600px"},{default:a(()=>[e(G,null,{default:a(()=>[e(Y,null,{default:a(()=>[n.value.image_url!==""?(b(),q(se,{key:0,src:n.value.image_url,style:{"max-inline-size":"100%"}},null,8,["src"])):z("",!0)]),_:1}),e(Ce,null,{default:a(()=>[e(E,{color:"primary",text:"",onClick:s[3]||(s[3]=o=>p.value=!1)},{default:a(()=>[B("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Je=Z(Ye,[["__scopeId","data-v-7f9227e9"]]),Ke={__name:"QuestionHeader",setup(t){const n=j();var m=localStorage.getItem("token");const c=v(window.innerWidth);F(async()=>{if(window.addEventListener("resize",i),i(),m){console.log("question packet detail run: ");try{const l=localStorage.getItem("paket");console.log("question packet detail id: ",l);const p=await axios.get("https://gateway.berkompeten.com/api/student/question-packet/detail?id="+l,{headers:{Authorization:`Bearer ${m}`}});console.log("question packet detail resp: ",p.data.data),questionsPacket.value=p.data.data,console.log("question packet detail: ",questionsPacket)}catch(l){l.response&&l.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),n.push("/login"))}}else n.push("/login")}),Se(()=>{window.removeEventListener("resize",i)});const i=()=>{c.value=window.innerWidth},r=async()=>{try{n.push("/review")}catch(l){console.error("review failed:",l)}};return(l,p)=>(b(),q(G,null,{default:a(()=>[e(C,{class:"match-height"},{default:a(()=>[Ie(e(y,{cols:"12",md:"3"},null,512),[[xe,T(c)>=768]]),e(y,{cols:"12",md:"9"},{default:a(()=>[e(Q,null,{append:a(()=>[e(C,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"7"},{default:a(()=>[e(E,{block:"",type:"submit",to:"/lab-values",color:"#0080ff",variant:"outlined"},{default:a(()=>[B(" Nilai Normal Laboratorium ")]),_:1})]),_:1}),e(y,{cols:"12",md:"5"},{default:a(()=>[e(E,{block:"",type:"submit",onClick:r,color:"#0080ff"},{default:a(()=>[B(" Selesaikan Test ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},Xe=Z(Ke,[["__scopeId","data-v-7bbdcefc"]]),Ze=t=>(fe("data-v-01116c3e"),t=t(),pe(),t),ea=Ze(()=>I("span",{style:{color:"#0080ff"}},"Soal Dikerjakan",-1)),aa={class:"font-weight-semibold mb-1"},ta={style:{color:"#0080ff"}},oa={class:"d-sm-block"},la={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},de=5,sa={__name:"QuestionOrder",setup(t){const n=v([]),m=j();ee();const c=v(null),i=v(null);var r=localStorage.getItem("token");const l=v(null);F(async()=>{await k(),await H(),f()});var p=v(null),g=v(null);v(null),v(null);var _=v(null),u=v(null),d=v(0),w=v(0);const k=async()=>{if(r)try{c.value=localStorage.getItem("paket"),i.value=localStorage.getItem("number");const o=(await L.get("https://gateway.berkompeten.com/api/student/questions/orders?id="+c.value,{headers:{Authorization:`Bearer ${r}`}})).data.question_numbers;w.value=0,o.forEach(h=>{h.is_fill&&w.value++}),console.log("Total Answered: ",w.value),d=o.length,console.log("question length: ",o.length),n.value=W(()=>{const h=[];for(let R=0;R<o.length;R+=de)h.push(o.slice(R,R+de));return console.log("result: ",h),h}),console.log("GROUP BUT: ",n)}catch(s){s.response&&s.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),m.push("/login"))}else m.push("/login")},P=async()=>{if(i.value!=1){console.log("previous without answer: ",+i.value-1),V(+i.value-1);return}},V=async s=>{localStorage.setItem("number",s),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),await k(),await H(),f(),ve.emit("refreshQuestion",{number:s})},$=async()=>{if(p=localStorage.getItem("answer"),g=localStorage.getItem("answerValue"),_=localStorage.getItem("paket"),u=localStorage.getItem("question_id"),p===null&&i.value!=d){console.log("next without answer: ",+i.value+1),V(+i.value+1);return}if(g===null){l.value="Tolong pilih seberapa yakin jawaban anda terlebih dahulu";return}if(u===null){l.value="question id is empty. please contact your administrator";return}try{console.log("paket id: ",_),console.log("ques id: ",u),console.log("answer: ",p),console.log("answer val: ",g);const s=await L.post("https://gateway.berkompeten.com/api/student/user/answer/add",{question_packet_id:_,question_id:u,answer:p,answer_value:g},{headers:{Authorization:`Bearer ${r}`}});console.log("answer submit: ",p),console.log("answer val submit: ",g),localStorage.removeItem("answer"),localStorage.removeItem("answerValue"),i.value==d&&m.push("/review"),$()}catch(s){console.error("answer failed:",s),s.response&&s.response.data?l.value=s.response.data.errors:l.value="An unexpected error occurred during login."}},f=()=>{const s=document.querySelector(".vcardtext-container"),o=document.querySelector(".v-btn.custom-btn.active");s&&o&&(s.scrollTop=o.offsetTop-s.offsetTop-s.clientHeight/2+o.clientHeight/2)};return(s,o)=>(b(),q(G,null,{default:a(()=>[e(C,{"no-gutters":""},{default:a(()=>[e(y,{md:"12"},{default:a(()=>[e(Q,null,{append:a(()=>[I("p",aa,[I("span",ta,x(T(w)),1),B(" / "+x(T(d)),1)])]),default:a(()=>[e(M,null,{default:a(()=>[ea]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:a(()=>[(b(!0),A(D,null,O(n.value.value,(h,R)=>(b(),q(C,{key:R,class:"row-item"},{default:a(()=>[(b(!0),A(D,null,O(h,S=>(b(),A("div",{key:S.number,class:"d-flex flex-wrap v-item"},[e(E,{color:i.value===S.number?"primary":S.is_fill?S.color:"",variant:S.is_fill?"tonal":"outlined",class:U(["mb-1 custom-btn",{active:i.value===S.number}]),style:{"block-size":"40px","inline-size":"40px"},onClick:ae=>V(S.number),ref_for:!0,ref:"button-"+S.number},{default:a(()=>[I("span",oa,x(S.number),1)]),_:2},1032,["color","variant","class","onClick"])]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(ue),e(Y,{class:"vcardtext-container"},{default:a(()=>[l.value?(b(),A("div",la,x(l.value),1)):z("",!0),e(C,{class:"d-flex flex-wrap"},{default:a(()=>[e(y,{cols:"6",class:"mb-1"},{default:a(()=>[e(E,{onClick:P,color:"#0080ff",variant:"outlined",disabled:i.value==1},{default:a(()=>[B("Kembali")]),_:1},8,["disabled"])]),_:1}),e(y,{cols:"6",class:"mb-1"},{default:a(()=>[e(E,{onClick:$,color:"#0080ff"},{default:a(()=>[B("Selanjutnya")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},na=Z(sa,[["__scopeId","data-v-01116c3e"]]),ba={__name:"question-packet",setup(t){const n=localStorage.getItem("token"),m=v(null),c=j(),i=ee(),r=W(()=>i.path==="/soal-review"?"review":"question");return F(async()=>{if(n)try{const l=await L.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${n}`}});m.value=l.data}catch(l){l.response&&l.response.status===401&&c.push("/login")}else c.push("/login")}),(l,p)=>(b(),A(D,null,[e(C,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"12"},{default:a(()=>[e(Xe,{mode:T(r)},null,8,["mode"])]),_:1})]),_:1}),e(C,{class:"match-height"},{default:a(()=>[e(y,{cols:"12",md:"9"},{default:a(()=>[e(Je,{mode:T(r)},null,8,["mode"])]),_:1}),e(y,{cols:"12",md:"3"},{default:a(()=>[e(na,{mode:T(r)},null,8,["mode"])]),_:1})]),_:1})],64))}};export{ba as default};
