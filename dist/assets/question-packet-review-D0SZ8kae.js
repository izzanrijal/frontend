import{a as g}from"./VGrid-drpAFfRm.js";import{_ as C,f as _,u as x,M as Q,g as S,o as f,e as k,w as e,d as a,H as z,a as o,t as i,X as y,b as h,c as M,F as R,W as j,Q as P,R as $}from"./index-y3A-tehf.js";import{b as v,c as q,V as d,a as p}from"./VCardItem-CkTFjuOe.js";import{V as D}from"./VImg-DMX7zTqZ.js";import{V as T}from"./VCard-BZOJYQgn.js";const N="/assets/review-DBMVeA3p.png",b=c=>(P("data-v-45c622c0"),c=c(),$(),c),F=b(()=>o("span",{style:{color:"#0080ff","font-size":"larger"}},[o("b",null,"Review kembali hasil pengerjaan test Anda")],-1)),L={class:"me-n3",style:{padding:"20px"}},E=b(()=>o("p",{style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"}," Soal yang telah dikerjakan: ",-1)),H={style:{color:"#0080ff","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},K=b(()=>o("p",{style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"}," Soal yang belum dikerjakan: ",-1)),W={style:{color:"red","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},X={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},G={style:{color:"#0080ff"}},J={style:{"max-block-size":"300px","overflow-y":"auto"}},O={class:"me-n3",style:{padding:"10px"}},U={style:{color:"black","padding-block-start":"15px"},class:"font-weight-semibold mb-1"},Y={__name:"QuestionReview",setup(c){const l=_({}),u=_([]),n=x();Q(),_([]);var r=localStorage.getItem("token");S(async()=>{await w(),await I()});const w=async()=>{if(r)try{const t=localStorage.getItem("paket"),s=await g.get("https://gateway.berkompeten.com/api/student/user/test/review?id="+t,{headers:{Authorization:`Bearer ${r}`}});l.value=s.data.data}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),n.push("/login"))}else n.push("/login")},I=async()=>{if(r)try{const t=localStorage.getItem("paket"),s=await g.get("https://gateway.berkompeten.com/api/student/user/skip/questions?id="+t,{headers:{Authorization:`Bearer ${r}`}});u.value=s.data.data}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),n.push("/login"))}else n.push("/login")},V=()=>{n.push("/soal")},B=async()=>{const t=localStorage.getItem("paket");try{console.log("paket id: ",t);const s=await g.post("https://gateway.berkompeten.com/api/student/user/finish-the-test",{question_packet_id:t},{headers:{Authorization:`Bearer ${r}`}});n.push("/result")}catch(s){console.error("answer failed:",s),s.response&&s.response.data?errorMessage.value=s.response.data.errors:errorMessage.value="An unexpected error occurred during login."}},A=async t=>{try{localStorage.setItem("number",t),n.push("/soal")}catch(s){console.error("answer failed:",s),s.response&&s.response.data?errorMessage.value=s.response.data.errors:errorMessage.value="An unexpected error occurred during login."}};return(t,s)=>(f(),k(T,null,{default:e(()=>[a(v,{class:"text-center"},{default:e(()=>[a(D,{src:z(N),style:{"block-size":"150px","inline-size":"150px"},class:"mx-auto"},null,8,["src"]),a(q,null,{default:e(()=>[F]),_:1}),o("div",L,[a(d,{align:"center"},{default:e(()=>[a(p,{cols:"6",md:"6"},{default:e(()=>[E,o("p",H,i(l.value.total_answered),1)]),_:1}),a(p,{cols:"6",md:"6"},{default:e(()=>[K,o("p",W,i(l.value.total_skip),1)]),_:1})]),_:1}),a(d,{class:"justify-center"},{default:e(()=>[a(p,{cols:"6",class:"mb-1"},{default:e(()=>[a(y,{onClick:B,color:"#0080ff",block:""},{default:e(()=>[h("Selesaikan Tes")]),_:1})]),_:1}),a(p,{cols:"6",class:"mb-1"},{default:e(()=>[a(y,{onClick:V,color:"#0080ff",variant:"outlined",block:""},{default:e(()=>[h(" Kembali Mengerjakan ")]),_:1})]),_:1})]),_:1}),a(d,{class:"d-flex flex-wrap justify-center"},{default:e(()=>[o("p",X,[h(" Berikut di bawah ini adalah soal-soal yang belum diberikan jawaban : "),o("span",G,"Ada "+i(l.value.total_skip)+" Soal",1)])]),_:1})])]),_:1}),o("div",J,[(f(!0),M(R,null,j(u.value,(m,ee)=>(f(),k(v,{key:m.id,class:"outlined-card-item",onClick:te=>A(m.question_number)},{default:e(()=>[o("div",O,[a(d,{align:"center"},{default:e(()=>[o("p",U,i(m.question_number)+" "+i(m.question),1)]),_:2},1024)])]),_:2},1032,["onClick"]))),128))])]),_:1}))}},Z=C(Y,[["__scopeId","data-v-45c622c0"]]),le={__name:"question-packet-review",setup(c){const l=localStorage.getItem("token"),u=_(null),n=x();return S(async()=>{if(l)try{const r=await g.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${l}`}});u.value=r.data}catch(r){r.response&&r.response.status===401&&n.push("/login")}else n.push("/login")}),(r,w)=>(f(),k(d,{class:"match-height"},{default:e(()=>[a(p,{cols:"12",md:"12"},{default:e(()=>[a(Z)]),_:1})]),_:1}))}};export{le as default};
