import{a as V,V as D}from"./VGrid-CKBodZyh.js";import{_ as W,f as w,u as C,g as S,Y as q,Z as L,o as s,e as i,w as a,d as o,c as r,F as b,W as v,X as x,b as k,J as l,V as N,a as g,t as m}from"./index-B6kub9zT.js";import{a as _,b as B,V as y,c as A,d as E}from"./VCard-BOTsumqx.js";import{V as F}from"./VChip-GLjvXqsi.js";import"./VImg-CMAkEoPT.js";import"./index-BFBh6RN0.js";const M={class:"title-container",style:{padding:"20px"}},T={style:{color:"black"}},P={key:0,class:"status-text font-weight-semibold mb-1"},Q={key:1,class:"status-text-start font-weight-semibold mb-1"},R=["onClick"],J={class:"d-flex align-center flex-wrap mb-3"},K={__name:"QuestionDashboard",setup(I){const d=w([]),c=C(),u=w(window.innerWidth);var n=localStorage.getItem("token");S(async()=>{if(n)try{const t=await V.get("https://gateway.berkompeten.com/api/student/question-packet",{headers:{Authorization:`Bearer ${n}`}});d.value=t.data.data}catch(t){t.response&&t.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("profile"),c.push("/login"))}else c.push("/login");window.addEventListener("resize",f)}),q(()=>{window.removeEventListener("resize",f)});const f=()=>{u.value=window.innerWidth},h=t=>{localStorage.setItem("paket",t),c.push("/detail")},z=()=>{c.push("/upgrade/membership")},$=L(()=>u.value<768),j=t=>$.value?t.slice(0,3):t;return(t,X)=>(s(),i(y,{class:"vcardtext-container"},{default:a(()=>[o(_,null,{default:a(()=>[(s(!0),r(b,null,v(d.value,e=>(s(),i(B,{cols:"12",md:"6",key:e.id,class:"question-card"},{default:a(()=>[o(y,{class:"mb-4"},{default:a(()=>[o(A,null,{append:a(()=>[e.is_accessed===!0&&e.is_done===!1&&e.answer===0?(s(),i(x,{key:0,block:"",type:"submit",onClick:p=>h(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:a(()=>[k(" Kerjakan Sekarang ")]),_:2},1032,["onClick","color"])):l("",!0),e.is_accessed===!0&&e.is_done===!1&&e.answer>0&&e.start_date!==null&&e.finish_date===null?(s(),i(x,{key:1,block:"",type:"submit",onClick:p=>h(e.id),color:e.is_accessed?"#0080ff":"#cccccc",class:"action-button"},{default:a(()=>[k(" Lanjutkan ")]),_:2},1032,["onClick","color"])):l("",!0),e.is_done===!0?(s(),r("a",{key:2,href:"#",style:{color:"#0080ff","font-weight":"bold","text-decoration":"underline"},onClick:p=>h(e.id)}," Detail & Pembahasan ",8,R)):l("",!0)]),default:a(()=>[o(_,{align:"center",class:"d-flex flex-wrap row-item-parent"},{default:a(()=>[o(D,{color:e.is_accessed?"#0080ff":"#cccccc",rounded:"",size:"40",class:"elevation-2 avatar-icon"},{default:a(()=>[o(N,{size:"24",icon:"ri-apps-line",class:"icon"})]),_:2},1032,["color"]),g("div",M,[o(E,null,{default:a(()=>[g("span",T,m(e.title),1)]),_:2},1024),e.is_accessed===!0&&e.is_done===!1&&e.answer===0?(s(),r("p",P," Belum dikerjakan ")):l("",!0),e.is_accessed===!0&&e.is_done===!1&&e.answer>0&&e.start_date!==null&&e.finish_date===null?(s(),r("p",Q," Mulai dikerjakan: "+m(e.start_date),1)):l("",!0),e.is_accessed===!1?(s(),r("a",{key:2,class:"upgrade-link",onClick:z},"Silahkan upgrade membership untuk melanjutkan")):l("",!0)])]),_:2},1024)]),_:2},1024),o(_,{align:"center",class:"d-flex flex-wrap row-item"},{default:a(()=>[g("div",J,[(s(!0),r(b,null,v(j(e.topics),p=>(s(),i(F,{class:"d-flex flex-wrap v-item",color:e.is_accessed?"#0080ff":"#cccccc",size:"small",key:p},{default:a(()=>[k(m(p),1)]),_:2},1032,["color"]))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}))}},U=W(K,[["__scopeId","data-v-601c0ac7"]]),ae={__name:"question-packet-dashboard",setup(I){const d=localStorage.getItem("token"),c=w(null),u=C();return S(async()=>{if(d)try{const n=await V.get("https://gateway.berkompeten.com/api/student/profile",{headers:{Authorization:`Bearer ${d}`}});c.value=n.data}catch(n){n.response&&n.response.status===401&&u.push("/login")}else u.push("/login")}),(n,f)=>(s(),i(_,{class:"match-height"},{default:a(()=>[o(B,{cols:"12",md:"12"},{default:a(()=>[o(U)]),_:1})]),_:1}))}};export{ae as default};
