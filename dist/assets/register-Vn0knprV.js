import{_ as S,a3 as T,z as E,u as M,M as R,Y as q,f as p,g as P,c as h,d as e,w as s,H as f,o as x,a as n,ar as N,X as L,b as y,t as B,J as D,O as $,Q as F,R as H}from"./index-4lKx3wrq.js";import{a as U,b as j,_ as z,c as A,d as J}from"./auth-v1-tree-nxv3Engt.js";import{l as O}from"./berkompeten_logo-LikdcGGo.js";import{a as Q,V as X}from"./VCard-qxjXagZr.js";import{V as _}from"./VImg-PnDL5qkr.js";import{b as Y,V as G,a as r}from"./VCardItem-MOrZfQ2X.js";import{V as K,a as v}from"./VTextField-HE9rSi11.js";import{V as b}from"./VDivider-GS6Uzmp4.js";import"./VGrid-dDLZ6FlL.js";import"./VInput-F18oTe3o.js";import"./index-eVj4sFZC.js";import"./forwardRefs-g5bhJaRn.js";const g=i=>(F("data-v-a3ab9f0f"),i=i(),H(),i),W={class:"auth-wrapper d-flex align-center justify-center pa-4"},Z={class:"d-flex"},ee=["innerHTML"],ae=g(()=>n("div",{class:"d-flex align-center mt-1 mb-4"},null,-1)),oe={key:0,class:"mt-2 text-danger",style:{color:"#ff5252"}},se=g(()=>n("span",null,"Already have an account?",-1)),te=g(()=>n("span",{class:"mx-4"},"or",-1)),re={__name:"register",setup(i){const a=T({username:"",email:"",password:"",confirm_password:"",privacyPolicies:!1}),k=E(),w=M(),V=R(),I=q(()=>k.global.name.value==="light"?U:j),d=p(!1),m=p(!1),c=p(null),C=()=>{if(a.email==""){loginError.value="email is required";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){loginError.value="Invalid email format";return}if(a.password==""){loginError.value="password is required";return}if(a.confirm_password==""){loginError.value="confirm password is required";return}if(c.value="",a.password!==a.confirm_password){console.error("Password and confirm password do not match"),c.value="Password and confirm password do not match";return}console.log("email save: ",a.email),console.log("password save: ",a.email),localStorage.setItem("email",a.email),localStorage.setItem("password",a.password),localStorage.setItem("confirm_password",a.confirm_password),w.push("/register-step-2")};return P(()=>{const l=localStorage.getItem("email"),o=V.query.email,u=V.query.name;o&&(console.log("email get route: ",o),a.email=o,localStorage.setItem("email",a.email),localStorage.setItem("name",u),w.push("https://gateway.berkompeten.com/register")),console.log("email: ",l),l&&(a.email=l)}),(l,o)=>{const u=$("RouterLink");return x(),h("div",W,[e(Q,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(Y,{class:"justify-center"},{prepend:s(()=>[n("div",Z,[n("div",{innerHTML:f(O)},null,8,ee)])]),_:1}),e(X,null,{default:s(()=>[e(K,{onSubmit:N(()=>{},["prevent"])},{default:s(()=>[e(G,null,{default:s(()=>[e(r,{cols:"12"},{default:s(()=>[e(v,{modelValue:a.email,"onUpdate:modelValue":o[0]||(o[0]=t=>a.email=t),label:"Email",placeholder:"example@email.com",type:"email"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:s(()=>[e(v,{modelValue:a.password,"onUpdate:modelValue":o[1]||(o[1]=t=>a.password=t),label:"Password",placeholder:"············",type:d.value?"text":"password","append-inner-icon":d.value?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":o[2]||(o[2]=t=>d.value=!d.value)},null,8,["modelValue","type","append-inner-icon"])]),_:1}),e(r,{cols:"12"},{default:s(()=>[e(v,{modelValue:a.confirm_password,"onUpdate:modelValue":o[3]||(o[3]=t=>a.confirm_password=t),label:"Confirm Password",placeholder:"············",type:m.value?"text":"password","append-inner-icon":m.value?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":o[4]||(o[4]=t=>m.value=!m.value)},null,8,["modelValue","type","append-inner-icon"]),ae,e(L,{block:"",type:"submit",color:"#0080ff",onClick:C},{default:s(()=>[y(" Next ")]),_:1}),c.value?(x(),h("div",oe,B(c.value),1)):D("",!0)]),_:1}),e(r,{cols:"12",class:"text-center text-base"},{default:s(()=>[se,e(u,{class:"text-primary ms-2",to:"login"},{default:s(()=>[y(" Sign in instead ")]),_:1})]),_:1}),e(r,{cols:"12",class:"d-flex align-center"},{default:s(()=>[e(b),te,e(b)]),_:1}),e(r,{cols:"12",class:"text-center"},{default:s(()=>[e(z)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{class:"auth-footer-start-tree d-none d-md-block",src:f(A),width:250},null,8,["src"]),e(_,{src:f(J),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(_,{class:"auth-footer-mask d-none d-md-block",src:I.value},null,8,["src"])])}}},we=S(re,[["__scopeId","data-v-a3ab9f0f"]]);export{we as default};
